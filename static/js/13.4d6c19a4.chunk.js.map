{"version":3,"sources":["../../../../inweso-cat-new/packages/file-xliff/dist/es/index-2f65a58d.js"],"names":["options","currentElement","sax","fn","module","exports","createCommonjsModule","parser","strict","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","this","i","l","length","clearBuffers","q","c","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","error","noscript","state","S","BEGIN","strictEntities","ENTITIES","Object","create","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","position","line","column","emit","EVENTS","o","F","prototype","keys","a","hasOwnProperty","push","end","write","chunk","toString","charAt","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","substring","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","pad","Array","join","toUpperCase","emitNode","CDATA","cdata","COMMENT","comment","DOCTYPE","doctype","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","name","body","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","attributes","value","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","buffer","parseEntity","entity","entityBody","entityStart","Error","maxAllowed","Math","max","maxActual","len","closeText","m","checkBufferLength","resume","close","flush","stream","ex","streamWraps","filter","ev","apply","_parser","writable","readable","me","onend","onerror","er","_decoder","forEach","defineProperty","get","set","h","removeAllListeners","on","enumerable","configurable","constructor","data","Buffer","isBuffer","SD","string_decoder","StringDecoder","handler","indexOf","args","arguments","splice","call","XML_NAMESPACE","XMLNS_NAMESPACE","xml","regex","test","s","STATE","COMMENT_STARTING","key","e","String","fromCharCode","event","nodeType","text","trim","normalize","replace","message","parent","qname","attribute","qualName","split","prefix","local","qn","selfClosing","uri","JSON","stringify","p","nv","isSelfClosing","toLowerCase","t","closeTo","pop","x","n","num","entityLC","numStr","slice","parseInt","isNaN","fromCodePoint","result","stringFromCharCode","floor","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","index","codePoint","Number","isFinite","RangeError","arrayHelper","isArray","optionsHelper","copy","item","spaces","alwaysArray","compact","isArray$1","nativeType","nValue","bValue","addField","type","instructionFn","temp","instructionNameFn","elementsKey","element","typeKey","nameKey","instructionHasAttributes","attributesKey","instructionKey","addParent","parentKey","manipulateAttributes","attributesFn","nativeTypeAttributes","attributeValueFn","attributeNameFn","onInstruction","instruction","match","attrsRegExp","exec","ignoreDeclaration","declarationKey","ignoreInstruction","onStartElement","elementNameFn","ignoreAttributes","alwaysChildren","onText","ignoreText","captureSpacesBetweenElements","sanitize","onComment","ignoreComment","onEndElement","parentElement","onCdata","ignoreCdata","onDoctype","ignoreDoctype","onError","note","xml2js","userOptions","validateOptions","onopentag","ontext","oncomment","onclosetag","oncdata","ondoctype","onprocessinginstruction","currentElement$1","currentElementName","isArray$2","writeIndentation","depth","firstLine","writeAttributes","attr","attrName","quote","undefined","noQuotesForNativeAttributes","indentAttributes","writeDeclaration","declaration","writeInstruction","instructionName","instructionValue","writeComment","commentFn","writeCdata","cdataFn","writeDoctype","doctypeFn","writeText","textFn","writeElements","elements","reduce","indent","elementName","withClosingTag","fullTagEmptyElementFn","fullTagEmptyElement","indentText","indentCdata","indentInstruction","hasContent","writeElement","commentKey","doctypeKey","cdataKey","textKey","hasContentCompact","anyContent","writeElementCompact","writeElementsCompact","nodes","_elementTypeToTagMap","_factories","js2xml","js","validateOptions$2","lib","ElementTypes","makeInlineElement","contents","obj","contentsObj","dataObj","assign","_defineProperty$1","ElementTypes2","elementTypeToTagMap","tagToElementTypeMap","ph","pc","sc","ec","factories","elementTypeToTag","types","extractValue","valueElements","elementTypeInfo","map","valueElement","substr","lastIndexOf","elementType","inlineElementFactory","_elementTypeToTagMap$1","_factories$1","xliffToJsClb","str","cb","err","xmlObj","xliffRoot","find","ele","srcLang","trgLang","sourceLanguage","targetLanguage","child","resources","file","namespace","id","initValues","target","createUnits","unit","additionalAttributes","segment","parse","createUnit","groupUnits","xliffToJs","Promise","resolve","reject","ret","_defineProperty$2","ElementTypes12","g","bx","bpt","ept","mrk","xliff12ToJsClb","original","bodyChildren","createUnits$1","childElements","transUnit","children","groupUnit","addAdditionalAttributes","createGroupTag","jsUnit","xliff12ToJs","makeElement","el","makeText","makeValue","content","elementTag","attrsSrc","attrs","attrKey","_attrsSrc","_contents","_attrs","segmentKey","escape","char","RegExp","js2xliffClb","root","version","nsName","f","createUnitTags","unitElements","group","createGroupUnitTag","source","subEle","noteElms","arrNote","baseNote","createNoteObjects","noteObj","unshift","createUnitTag","js2xliff","jsToXliff12Clb","xmlLangAttr","b","createUnitTags$1","fileAttributes","datatype","resource","createGroupUnitTag$1","u","sourceAttributes","targetAttributes","createNoteObjects$1","createTransUnitTag$1","jsToXliff12","ofjs","what","res","nsKeys","getSegment","nsKey","category","groupKey","groupValue","targetOfjs","sourceOfjs","_typeof","Symbol","iterator","setSegment","srcObj","trgObj","ntObj","srcValue","trgValue","grpObj","grpKey","createjsClb","srcLng","trgLng","srcKeys","trgKeys","ntKeys","k","nsObj","srcKey","createjs","createjs$1","js2xliff$1","createxliffClb","createxliff","createjs$2","jsToXliff12$1","createxliff12Clb","createxliff12","xliff2js"],"mappings":"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","file":"static/js/13.4d6c19a4.chunk.js","sourcesContent":["import stream from 'stream';\nimport string_decoder from 'string_decoder';\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar sax = createCommonjsModule(function (module, exports) {\n(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) };\n  sax.SAXParser = SAXParser;\n  sax.SAXStream = SAXStream;\n  sax.createStream = createStream;\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024;\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ];\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ];\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this;\n    clearBuffers(parser);\n    parser.q = parser.c = '';\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH;\n    parser.opt = opt || {};\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase';\n    parser.tags = [];\n    parser.closed = parser.closedRoot = parser.sawRoot = false;\n    parser.tag = parser.error = null;\n    parser.strict = !!strict;\n    parser.noscript = !!(strict || parser.opt.noscript);\n    parser.state = S.BEGIN;\n    parser.strictEntities = parser.opt.strictEntities;\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES);\n    parser.attribList = [];\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS);\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false;\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0;\n    }\n    emit(parser, 'onready');\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o;\n      var newf = new F();\n      return newf\n    };\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = [];\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i);\n      return a\n    };\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10);\n    var maxActual = 0;\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length;\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser);\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata);\n            parser.cdata = '';\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script);\n            parser.script = '';\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i]);\n        }\n      }\n      maxActual = Math.max(maxActual, len);\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual;\n    parser.bufferCheckPosition = m + parser.position;\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = '';\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser);\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata);\n      parser.cdata = '';\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script);\n      parser.script = '';\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this); },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this); }\n  };\n\n  var Stream;\n  try {\n    Stream = stream.Stream;\n  } catch (ex) {\n    Stream = function () {};\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  });\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this);\n\n    this._parser = new SAXParser(strict, opt);\n    this.writable = true;\n    this.readable = true;\n\n    var me = this;\n\n    this._parser.onend = function () {\n      me.emit('end');\n    };\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er);\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null;\n    };\n\n    this._decoder = null;\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev);\n            me._parser['on' + ev] = h;\n            return h\n          }\n          me.on(ev, h);\n        },\n        enumerable: true,\n        configurable: false\n      });\n    });\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  });\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = string_decoder.StringDecoder;\n        this._decoder = new SD('utf8');\n      }\n      data = this._decoder.write(data);\n    }\n\n    this._parser.write(data.toString());\n    this.emit('data', data);\n    return true\n  };\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk);\n    }\n    this._parser.end();\n    return true\n  };\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this;\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);\n        args.splice(0, 0, ev);\n        me.emit.apply(me, args);\n      };\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  };\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA[';\n  var DOCTYPE = 'DOCTYPE';\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/';\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0;\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  };\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  };\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  };\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key];\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e;\n    sax.ENTITIES[key] = s;\n  });\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s;\n  }\n\n  // shorthand\n  S = sax.STATE;\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data);\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser);\n    emit(parser, nodeType, data);\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode);\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode);\n    parser.textNode = '';\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim();\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ');\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser);\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c;\n    }\n    er = new Error(er);\n    parser.error = er;\n    emit(parser, 'onerror', er);\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag');\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end');\n    }\n    closeText(parser);\n    parser.c = '';\n    parser.closed = true;\n    emit(parser, 'onend');\n    SAXParser.call(parser, parser.strict, parser.opt);\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message);\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]();\n    var parent = parser.tags[parser.tags.length - 1] || parser;\n    var tag = parser.tag = { name: parser.tagName, attributes: {} };\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns;\n    }\n    parser.attribList.length = 0;\n    emitNode(parser, 'onopentagstart', tag);\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':');\n    var qualName = i < 0 ? [ '', name ] : name.split(':');\n    var prefix = qualName[0];\n    var local = qualName[1];\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns';\n      local = '';\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]();\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = '';\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true);\n      var prefix = qn.prefix;\n      var local = qn.local;\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue);\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue);\n        } else {\n          var tag = parser.tag;\n          var parent = parser.tags[parser.tags.length - 1] || parser;\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns);\n          }\n          tag.ns[local] = parser.attribValue;\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue]);\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue;\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      });\n    }\n\n    parser.attribName = parser.attribValue = '';\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag;\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName);\n      tag.prefix = qn.prefix;\n      tag.local = qn.local;\n      tag.uri = tag.ns[qn.prefix] || '';\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName));\n        tag.uri = qn.prefix;\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser;\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          });\n        });\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i];\n        var name = nv[0];\n        var value = nv[1];\n        var qualName = qname(name, true);\n        var prefix = qualName.prefix;\n        var local = qualName.local;\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '');\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        };\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix));\n          a.uri = prefix;\n        }\n        parser.tag.attributes[name] = a;\n        emitNode(parser, 'onattribute', a);\n      }\n      parser.attribList.length = 0;\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing;\n\n    // process the tag\n    parser.sawRoot = true;\n    parser.tags.push(parser.tag);\n    emitNode(parser, 'onopentag', parser.tag);\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT;\n      } else {\n        parser.state = S.TEXT;\n      }\n      parser.tag = null;\n      parser.tagName = '';\n    }\n    parser.attribName = parser.attribValue = '';\n    parser.attribList.length = 0;\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.');\n      parser.textNode += '</>';\n      parser.state = S.TEXT;\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>';\n        parser.tagName = '';\n        parser.state = S.SCRIPT;\n        return\n      }\n      emitNode(parser, 'onscript', parser.script);\n      parser.script = '';\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length;\n    var tagName = parser.tagName;\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]();\n    }\n    var closeTo = tagName;\n    while (t--) {\n      var close = parser.tags[t];\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag');\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName);\n      parser.textNode += '</' + parser.tagName + '>';\n      parser.state = S.TEXT;\n      return\n    }\n    parser.tagName = tagName;\n    var s = parser.tags.length;\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop();\n      parser.tagName = parser.tag.name;\n      emitNode(parser, 'onclosetag', parser.tagName);\n\n      var x = {};\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i];\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser;\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p];\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n });\n        });\n      }\n    }\n    if (t === 0) parser.closedRoot = true;\n    parser.tagName = parser.attribValue = parser.attribName = '';\n    parser.attribList.length = 0;\n    parser.state = S.TEXT;\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity;\n    var entityLC = entity.toLowerCase();\n    var num;\n    var numStr = '';\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC;\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2);\n        num = parseInt(entity, 16);\n        numStr = num.toString(16);\n      } else {\n        entity = entity.slice(1);\n        num = parseInt(entity, 10);\n        numStr = num.toString(10);\n      }\n    }\n    entity = entity.replace(/^0+/, '');\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity');\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA;\n      parser.startTagPosition = parser.position;\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.');\n      parser.textNode = c;\n      parser.state = S.TEXT;\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = '';\n    if (i < chunk.length) {\n      result = chunk.charAt(i);\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this;\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString();\n    }\n    var i = 0;\n    var c = '';\n    while (true) {\n      c = charAt(chunk, i++);\n      parser.c = c;\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++;\n        if (c === '\\n') {\n          parser.line++;\n          parser.column = 0;\n        } else {\n          parser.column++;\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE;\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c);\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c);\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1;\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++);\n              if (c && parser.trackPosition) {\n                parser.position++;\n                if (c === '\\n') {\n                  parser.line++;\n                  parser.column = 0;\n                } else {\n                  parser.column++;\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1);\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA;\n            parser.startTagPosition = parser.position;\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.');\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY;\n            } else {\n              parser.textNode += c;\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING;\n          } else {\n            parser.script += c;\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG;\n          } else {\n            parser.script += '<' + c;\n            parser.state = S.SCRIPT;\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL;\n            parser.sgmlDecl = '';\n          } else if (isWhitespace(c)) ; else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG;\n            parser.tagName = c;\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG;\n            parser.tagName = '';\n          } else if (c === '?') {\n            parser.state = S.PROC_INST;\n            parser.procInstName = parser.procInstBody = '';\n          } else {\n            strictFail(parser, 'Unencoded <');\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition;\n              c = new Array(pad).join(' ') + c;\n            }\n            parser.textNode += '<' + c;\n            parser.state = S.TEXT;\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata');\n            parser.state = S.CDATA;\n            parser.sgmlDecl = '';\n            parser.cdata = '';\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT;\n            parser.comment = '';\n            parser.sgmlDecl = '';\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE;\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration');\n            }\n            parser.doctype = '';\n            parser.sgmlDecl = '';\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl);\n            parser.sgmlDecl = '';\n            parser.state = S.TEXT;\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED;\n            parser.sgmlDecl += c;\n          } else {\n            parser.sgmlDecl += c;\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL;\n            parser.q = '';\n          }\n          parser.sgmlDecl += c;\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT;\n            emitNode(parser, 'ondoctype', parser.doctype);\n            parser.doctype = true; // just remember that we saw it.\n          } else {\n            parser.doctype += c;\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD;\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED;\n              parser.q = c;\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c;\n          if (c === parser.q) {\n            parser.q = '';\n            parser.state = S.DOCTYPE;\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c;\n          if (c === ']') {\n            parser.state = S.DOCTYPE;\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED;\n            parser.q = c;\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c;\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD;\n            parser.q = '';\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING;\n          } else {\n            parser.comment += c;\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED;\n            parser.comment = textopts(parser.opt, parser.comment);\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment);\n            }\n            parser.comment = '';\n          } else {\n            parser.comment += '-' + c;\n            parser.state = S.COMMENT;\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment');\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c;\n            parser.state = S.COMMENT;\n          } else {\n            parser.state = S.TEXT;\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING;\n          } else {\n            parser.cdata += c;\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2;\n          } else {\n            parser.cdata += ']' + c;\n            parser.state = S.CDATA;\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata);\n            }\n            emitNode(parser, 'onclosecdata');\n            parser.cdata = '';\n            parser.state = S.TEXT;\n          } else if (c === ']') {\n            parser.cdata += ']';\n          } else {\n            parser.cdata += ']]' + c;\n            parser.state = S.CDATA;\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING;\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY;\n          } else {\n            parser.procInstName += c;\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING;\n          } else {\n            parser.procInstBody += c;\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            });\n            parser.procInstName = parser.procInstBody = '';\n            parser.state = S.TEXT;\n          } else {\n            parser.procInstBody += '?' + c;\n            parser.state = S.PROC_INST_BODY;\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c;\n          } else {\n            newTag(parser);\n            if (c === '>') {\n              openTag(parser);\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH;\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name');\n              }\n              parser.state = S.ATTRIB;\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true);\n            closeTag(parser);\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >');\n            parser.state = S.ATTRIB;\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser);\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH;\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c;\n            parser.attribValue = '';\n            parser.state = S.ATTRIB_NAME;\n          } else {\n            strictFail(parser, 'Invalid attribute name');\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE;\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value');\n            parser.attribValue = parser.attribName;\n            attrib(parser);\n            openTag(parser);\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE;\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c;\n          } else {\n            strictFail(parser, 'Invalid attribute name');\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE;\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value');\n            parser.tag.attributes[parser.attribName] = '';\n            parser.attribValue = '';\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            });\n            parser.attribName = '';\n            if (c === '>') {\n              openTag(parser);\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c;\n              parser.state = S.ATTRIB_NAME;\n            } else {\n              strictFail(parser, 'Invalid attribute name');\n              parser.state = S.ATTRIB;\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c;\n            parser.state = S.ATTRIB_VALUE_QUOTED;\n          } else {\n            strictFail(parser, 'Unquoted attribute value');\n            parser.state = S.ATTRIB_VALUE_UNQUOTED;\n            parser.attribValue = c;\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q;\n            } else {\n              parser.attribValue += c;\n            }\n            continue\n          }\n          attrib(parser);\n          parser.q = '';\n          parser.state = S.ATTRIB_VALUE_CLOSED;\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB;\n          } else if (c === '>') {\n            openTag(parser);\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH;\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes');\n            parser.attribName = c;\n            parser.attribValue = '';\n            parser.state = S.ATTRIB_NAME;\n          } else {\n            strictFail(parser, 'Invalid attribute name');\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U;\n            } else {\n              parser.attribValue += c;\n            }\n            continue\n          }\n          attrib(parser);\n          if (c === '>') {\n            openTag(parser);\n          } else {\n            parser.state = S.ATTRIB;\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c;\n                parser.state = S.SCRIPT;\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.');\n              }\n            } else {\n              parser.tagName = c;\n            }\n          } else if (c === '>') {\n            closeTag(parser);\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c;\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName;\n            parser.tagName = '';\n            parser.state = S.SCRIPT;\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag');\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE;\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser);\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag');\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState;\n          var buffer;\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT;\n              buffer = 'textNode';\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED;\n              buffer = 'attribValue';\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED;\n              buffer = 'attribValue';\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser);\n            parser.entity = '';\n            parser.state = returnState;\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c;\n          } else {\n            strictFail(parser, 'Invalid character in entity name');\n            parser[buffer] += '&' + parser.entity + c;\n            parser.entity = '';\n            parser.state = returnState;\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser);\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode;\n      var floor = Math.floor;\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000;\n        var codeUnits = [];\n        var highSurrogate;\n        var lowSurrogate;\n        var index = -1;\n        var length = arguments.length;\n        if (!length) {\n          return ''\n        }\n        var result = '';\n        while (++index < length) {\n          var codePoint = Number(arguments[index]);\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint);\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000;\n            highSurrogate = (codePoint >> 10) + 0xD800;\n            lowSurrogate = (codePoint % 0x400) + 0xDC00;\n            codeUnits.push(highSurrogate, lowSurrogate);\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits);\n            codeUnits.length = 0;\n          }\n        }\n        return result\n      };\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        String.fromCodePoint = fromCodePoint;\n      }\n    }());\n  }\n})( exports);\n});\n\nvar arrayHelper = {\r\n\r\n  isArray: function(value) {\r\n    if (Array.isArray) {\r\n      return Array.isArray(value);\r\n    }\r\n    // fallback for older browsers like  IE 8\r\n    return Object.prototype.toString.call( value ) === '[object Array]';\r\n  }\r\n\r\n};\n\nvar isArray = arrayHelper.isArray;\r\n\r\nvar optionsHelper = {\r\n\r\n  copyOptions: function (options) {\r\n    var key, copy = {};\r\n    for (key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        copy[key] = options[key];\r\n      }\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  ensureFlagExists: function (item, options) {\r\n    if (!(item in options) || typeof options[item] !== 'boolean') {\r\n      options[item] = false;\r\n    }\r\n  },\r\n\r\n  ensureSpacesExists: function (options) {\r\n    if (!('spaces' in options) || (typeof options.spaces !== 'number' && typeof options.spaces !== 'string')) {\r\n      options.spaces = 0;\r\n    }\r\n  },\r\n\r\n  ensureAlwaysArrayExists: function (options) {\r\n    if (!('alwaysArray' in options) || (typeof options.alwaysArray !== 'boolean' && !isArray(options.alwaysArray))) {\r\n      options.alwaysArray = false;\r\n    }\r\n  },\r\n\r\n  ensureKeyExists: function (key, options) {\r\n    if (!(key + 'Key' in options) || typeof options[key + 'Key'] !== 'string') {\r\n      options[key + 'Key'] = options.compact ? '_' + key : key;\r\n    }\r\n  },\r\n\r\n  checkFnExists: function (key, options) {\r\n    return key + 'Fn' in options;\r\n  }\r\n\r\n};\n\nvar isArray$1 = arrayHelper.isArray;\r\n\r\nvar options;\r\nvar currentElement;\r\n\r\nfunction validateOptions(userOptions) {\r\n  options = optionsHelper.copyOptions(userOptions);\r\n  optionsHelper.ensureFlagExists('ignoreDeclaration', options);\r\n  optionsHelper.ensureFlagExists('ignoreInstruction', options);\r\n  optionsHelper.ensureFlagExists('ignoreAttributes', options);\r\n  optionsHelper.ensureFlagExists('ignoreText', options);\r\n  optionsHelper.ensureFlagExists('ignoreComment', options);\r\n  optionsHelper.ensureFlagExists('ignoreCdata', options);\r\n  optionsHelper.ensureFlagExists('ignoreDoctype', options);\r\n  optionsHelper.ensureFlagExists('compact', options);\r\n  optionsHelper.ensureFlagExists('alwaysChildren', options);\r\n  optionsHelper.ensureFlagExists('addParent', options);\r\n  optionsHelper.ensureFlagExists('trim', options);\r\n  optionsHelper.ensureFlagExists('nativeType', options);\r\n  optionsHelper.ensureFlagExists('nativeTypeAttributes', options);\r\n  optionsHelper.ensureFlagExists('sanitize', options);\r\n  optionsHelper.ensureFlagExists('instructionHasAttributes', options);\r\n  optionsHelper.ensureFlagExists('captureSpacesBetweenElements', options);\r\n  optionsHelper.ensureAlwaysArrayExists(options);\r\n  optionsHelper.ensureKeyExists('declaration', options);\r\n  optionsHelper.ensureKeyExists('instruction', options);\r\n  optionsHelper.ensureKeyExists('attributes', options);\r\n  optionsHelper.ensureKeyExists('text', options);\r\n  optionsHelper.ensureKeyExists('comment', options);\r\n  optionsHelper.ensureKeyExists('cdata', options);\r\n  optionsHelper.ensureKeyExists('doctype', options);\r\n  optionsHelper.ensureKeyExists('type', options);\r\n  optionsHelper.ensureKeyExists('name', options);\r\n  optionsHelper.ensureKeyExists('elements', options);\r\n  optionsHelper.ensureKeyExists('parent', options);\r\n  optionsHelper.checkFnExists('doctype', options);\r\n  optionsHelper.checkFnExists('instruction', options);\r\n  optionsHelper.checkFnExists('cdata', options);\r\n  optionsHelper.checkFnExists('comment', options);\r\n  optionsHelper.checkFnExists('text', options);\r\n  optionsHelper.checkFnExists('instructionName', options);\r\n  optionsHelper.checkFnExists('elementName', options);\r\n  optionsHelper.checkFnExists('attributeName', options);\r\n  optionsHelper.checkFnExists('attributeValue', options);\r\n  optionsHelper.checkFnExists('attributes', options);\r\n  return options;\r\n}\r\n\r\nfunction nativeType(value) {\r\n  var nValue = Number(value);\r\n  if (!isNaN(nValue)) {\r\n    return nValue;\r\n  }\r\n  var bValue = value.toLowerCase();\r\n  if (bValue === 'true') {\r\n    return true;\r\n  } else if (bValue === 'false') {\r\n    return false;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction addField(type, value) {\r\n  var key;\r\n  if (options.compact) {\r\n    if (\r\n      !currentElement[options[type + 'Key']] &&\r\n      (isArray$1(options.alwaysArray) ? options.alwaysArray.indexOf(options[type + 'Key']) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[options[type + 'Key']] = [];\r\n    }\r\n    if (currentElement[options[type + 'Key']] && !isArray$1(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']] = [currentElement[options[type + 'Key']]];\r\n    }\r\n    if (type + 'Fn' in options && typeof value === 'string') {\r\n      value = options[type + 'Fn'](value, currentElement);\r\n    }\r\n    if (type === 'instruction' && ('instructionFn' in options || 'instructionNameFn' in options)) {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          if ('instructionFn' in options) {\r\n            value[key] = options.instructionFn(value[key], key, currentElement);\r\n          } else {\r\n            var temp = value[key];\r\n            delete value[key];\r\n            value[options.instructionNameFn(key, temp, currentElement)] = temp;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (isArray$1(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']].push(value);\r\n    } else {\r\n      currentElement[options[type + 'Key']] = value;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    var element = {};\r\n    element[options.typeKey] = type;\r\n    if (type === 'instruction') {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          break;\r\n        }\r\n      }\r\n      element[options.nameKey] = 'instructionNameFn' in options ? options.instructionNameFn(key, value, currentElement) : key;\r\n      if (options.instructionHasAttributes) {\r\n        element[options.attributesKey] = value[key][options.attributesKey];\r\n        if ('instructionFn' in options) {\r\n          element[options.attributesKey] = options.instructionFn(element[options.attributesKey], key, currentElement);\r\n        }\r\n      } else {\r\n        if ('instructionFn' in options) {\r\n          value[key] = options.instructionFn(value[key], key, currentElement);\r\n        }\r\n        element[options.instructionKey] = value[key];\r\n      }\r\n    } else {\r\n      if (type + 'Fn' in options) {\r\n        value = options[type + 'Fn'](value, currentElement);\r\n      }\r\n      element[options[type + 'Key']] = value;\r\n    }\r\n    if (options.addParent) {\r\n      element[options.parentKey] = currentElement;\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n}\r\n\r\nfunction manipulateAttributes(attributes) {\r\n  if ('attributesFn' in options && attributes) {\r\n    attributes = options.attributesFn(attributes, currentElement);\r\n  }\r\n  if ((options.trim || 'attributeValueFn' in options || 'attributeNameFn' in options || options.nativeTypeAttributes) && attributes) {\r\n    var key;\r\n    for (key in attributes) {\r\n      if (attributes.hasOwnProperty(key)) {\r\n        if (options.trim) attributes[key] = attributes[key].trim();\r\n        if (options.nativeTypeAttributes) {\r\n          attributes[key] = nativeType(attributes[key]);\r\n        }\r\n        if ('attributeValueFn' in options) attributes[key] = options.attributeValueFn(attributes[key], key, currentElement);\r\n        if ('attributeNameFn' in options) {\r\n          var temp = attributes[key];\r\n          delete attributes[key];\r\n          attributes[options.attributeNameFn(key, attributes[key], currentElement)] = temp;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return attributes;\r\n}\r\n\r\nfunction onInstruction(instruction) {\r\n  var attributes = {};\r\n  if (instruction.body && (instruction.name.toLowerCase() === 'xml' || options.instructionHasAttributes)) {\r\n    var attrsRegExp = /([\\w:-]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|(\\w+))\\s*/g;\r\n    var match;\r\n    while ((match = attrsRegExp.exec(instruction.body)) !== null) {\r\n      attributes[match[1]] = match[2] || match[3] || match[4];\r\n    }\r\n    attributes = manipulateAttributes(attributes);\r\n  }\r\n  if (instruction.name.toLowerCase() === 'xml') {\r\n    if (options.ignoreDeclaration) {\r\n      return;\r\n    }\r\n    currentElement[options.declarationKey] = {};\r\n    if (Object.keys(attributes).length) {\r\n      currentElement[options.declarationKey][options.attributesKey] = attributes;\r\n    }\r\n    if (options.addParent) {\r\n      currentElement[options.declarationKey][options.parentKey] = currentElement;\r\n    }\r\n  } else {\r\n    if (options.ignoreInstruction) {\r\n      return;\r\n    }\r\n    if (options.trim) {\r\n      instruction.body = instruction.body.trim();\r\n    }\r\n    var value = {};\r\n    if (options.instructionHasAttributes && Object.keys(attributes).length) {\r\n      value[instruction.name] = {};\r\n      value[instruction.name][options.attributesKey] = attributes;\r\n    } else {\r\n      value[instruction.name] = instruction.body;\r\n    }\r\n    addField('instruction', value);\r\n  }\r\n}\r\n\r\nfunction onStartElement(name, attributes) {\r\n  var element;\r\n  if (typeof name === 'object') {\r\n    attributes = name.attributes;\r\n    name = name.name;\r\n  }\r\n  attributes = manipulateAttributes(attributes);\r\n  if ('elementNameFn' in options) {\r\n    name = options.elementNameFn(name, currentElement);\r\n  }\r\n  if (options.compact) {\r\n    element = {};\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = {};\r\n      var key;\r\n      for (key in attributes) {\r\n        if (attributes.hasOwnProperty(key)) {\r\n          element[options.attributesKey][key] = attributes[key];\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      !(name in currentElement) &&\r\n      (isArray$1(options.alwaysArray) ? options.alwaysArray.indexOf(name) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[name] = [];\r\n    }\r\n    if (currentElement[name] && !isArray$1(currentElement[name])) {\r\n      currentElement[name] = [currentElement[name]];\r\n    }\r\n    if (isArray$1(currentElement[name])) {\r\n      currentElement[name].push(element);\r\n    } else {\r\n      currentElement[name] = element;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    element = {};\r\n    element[options.typeKey] = 'element';\r\n    element[options.nameKey] = name;\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = attributes;\r\n    }\r\n    if (options.alwaysChildren) {\r\n      element[options.elementsKey] = [];\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n  element[options.parentKey] = currentElement; // will be deleted in onEndElement() if !options.addParent\r\n  currentElement = element;\r\n}\r\n\r\nfunction onText(text) {\r\n  if (options.ignoreText) {\r\n    return;\r\n  }\r\n  if (!text.trim() && !options.captureSpacesBetweenElements) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    text = text.trim();\r\n  }\r\n  if (options.nativeType) {\r\n    text = nativeType(text);\r\n  }\r\n  if (options.sanitize) {\r\n    text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n  }\r\n  addField('text', text);\r\n}\r\n\r\nfunction onComment(comment) {\r\n  if (options.ignoreComment) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    comment = comment.trim();\r\n  }\r\n  addField('comment', comment);\r\n}\r\n\r\nfunction onEndElement(name) {\r\n  var parentElement = currentElement[options.parentKey];\r\n  if (!options.addParent) {\r\n    delete currentElement[options.parentKey];\r\n  }\r\n  currentElement = parentElement;\r\n}\r\n\r\nfunction onCdata(cdata) {\r\n  if (options.ignoreCdata) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    cdata = cdata.trim();\r\n  }\r\n  addField('cdata', cdata);\r\n}\r\n\r\nfunction onDoctype(doctype) {\r\n  if (options.ignoreDoctype) {\r\n    return;\r\n  }\r\n  doctype = doctype.replace(/^ /, '');\r\n  if (options.trim) {\r\n    doctype = doctype.trim();\r\n  }\r\n  addField('doctype', doctype);\r\n}\r\n\r\nfunction onError(error) {\r\n  error.note = error; //console.error(error);\r\n}\r\n\r\nvar xml2js = function (xml, userOptions) {\r\n\r\n  var parser =  sax.parser(true, {}) ;\r\n  var result = {};\r\n  currentElement = result;\r\n\r\n  options = validateOptions(userOptions);\r\n\r\n  {\r\n    parser.opt = {strictEntities: true};\r\n    parser.onopentag = onStartElement;\r\n    parser.ontext = onText;\r\n    parser.oncomment = onComment;\r\n    parser.onclosetag = onEndElement;\r\n    parser.onerror = onError;\r\n    parser.oncdata = onCdata;\r\n    parser.ondoctype = onDoctype;\r\n    parser.onprocessinginstruction = onInstruction;\r\n  }\r\n\r\n  {\r\n    parser.write(xml).close();\r\n  }\r\n\r\n  if (result[options.elementsKey]) {\r\n    var temp = result[options.elementsKey];\r\n    delete result[options.elementsKey];\r\n    result[options.elementsKey] = temp;\r\n    delete result.text;\r\n  }\r\n\r\n  return result;\r\n\r\n};\n\nfunction validateOptions$1 (userOptions) {\r\n  var options = optionsHelper.copyOptions(userOptions);\r\n  optionsHelper.ensureSpacesExists(options);\r\n  return options;\r\n}\r\n\r\nvar xml2json = function(xml, userOptions) {\r\n  var options, js, json, parentKey;\r\n  options = validateOptions$1(userOptions);\r\n  js = xml2js(xml, options);\r\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent';\r\n  // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\r\n  if ('addParent' in options && options.addParent) {\r\n    json = JSON.stringify(js, function (k, v) { return k === parentKey? '_' : v; }, options.spaces);\r\n  } else {\r\n    json = JSON.stringify(js, null, options.spaces);\r\n  }\r\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\r\n};\n\nvar isArray$2 = arrayHelper.isArray;\n\nvar currentElement$1, currentElementName;\n\nfunction validateOptions$2(userOptions) {\n  var options = optionsHelper.copyOptions(userOptions);\n  optionsHelper.ensureFlagExists('ignoreDeclaration', options);\n  optionsHelper.ensureFlagExists('ignoreInstruction', options);\n  optionsHelper.ensureFlagExists('ignoreAttributes', options);\n  optionsHelper.ensureFlagExists('ignoreText', options);\n  optionsHelper.ensureFlagExists('ignoreComment', options);\n  optionsHelper.ensureFlagExists('ignoreCdata', options);\n  optionsHelper.ensureFlagExists('ignoreDoctype', options);\n  optionsHelper.ensureFlagExists('compact', options);\n  optionsHelper.ensureFlagExists('indentText', options);\n  optionsHelper.ensureFlagExists('indentCdata', options);\n  optionsHelper.ensureFlagExists('indentAttributes', options);\n  optionsHelper.ensureFlagExists('indentInstruction', options);\n  optionsHelper.ensureFlagExists('fullTagEmptyElement', options);\n  optionsHelper.ensureFlagExists('noQuotesForNativeAttributes', options);\n  optionsHelper.ensureSpacesExists(options);\n  if (typeof options.spaces === 'number') {\n    options.spaces = Array(options.spaces + 1).join(' ');\n  }\n  optionsHelper.ensureKeyExists('declaration', options);\n  optionsHelper.ensureKeyExists('instruction', options);\n  optionsHelper.ensureKeyExists('attributes', options);\n  optionsHelper.ensureKeyExists('text', options);\n  optionsHelper.ensureKeyExists('comment', options);\n  optionsHelper.ensureKeyExists('cdata', options);\n  optionsHelper.ensureKeyExists('doctype', options);\n  optionsHelper.ensureKeyExists('type', options);\n  optionsHelper.ensureKeyExists('name', options);\n  optionsHelper.ensureKeyExists('elements', options);\n  optionsHelper.checkFnExists('doctype', options);\n  optionsHelper.checkFnExists('instruction', options);\n  optionsHelper.checkFnExists('cdata', options);\n  optionsHelper.checkFnExists('comment', options);\n  optionsHelper.checkFnExists('text', options);\n  optionsHelper.checkFnExists('instructionName', options);\n  optionsHelper.checkFnExists('elementName', options);\n  optionsHelper.checkFnExists('attributeName', options);\n  optionsHelper.checkFnExists('attributeValue', options);\n  optionsHelper.checkFnExists('attributes', options);\n  optionsHelper.checkFnExists('fullTagEmptyElement', options);\n  return options;\n}\n\nfunction writeIndentation(options, depth, firstLine) {\n  return (!firstLine && options.spaces ? '\\n' : '') + Array(depth + 1).join(options.spaces);\n}\n\nfunction writeAttributes(attributes, options, depth) {\n  if (options.ignoreAttributes) {\n    return '';\n  }\n  if ('attributesFn' in options) {\n    attributes = options.attributesFn(attributes, currentElementName, currentElement$1);\n  }\n  var key, attr, attrName, quote, result = [];\n  for (key in attributes) {\n    if (attributes.hasOwnProperty(key) && attributes[key] !== null && attributes[key] !== undefined) {\n      quote = options.noQuotesForNativeAttributes && typeof attributes[key] !== 'string' ? '' : '\"';\n      attr = '' + attributes[key]; // ensure number and boolean are converted to String\n      attr = attr.replace(/\"/g, '&quot;');\n      attrName = 'attributeNameFn' in options ? options.attributeNameFn(key, attr, currentElementName, currentElement$1) : key;\n      result.push((options.spaces && options.indentAttributes? writeIndentation(options, depth+1, false) : ' '));\n      result.push(attrName + '=' + quote + ('attributeValueFn' in options ? options.attributeValueFn(attr, key, currentElementName, currentElement$1) : attr) + quote);\n    }\n  }\n  if (attributes && Object.keys(attributes).length && options.spaces && options.indentAttributes) {\n    result.push(writeIndentation(options, depth, false));\n  }\n  return result.join('');\n}\n\nfunction writeDeclaration(declaration, options, depth) {\n  currentElement$1 = declaration;\n  currentElementName = 'xml';\n  return options.ignoreDeclaration ? '' :  '<?' + 'xml' + writeAttributes(declaration[options.attributesKey], options, depth) + '?>';\n}\n\nfunction writeInstruction(instruction, options, depth) {\n  if (options.ignoreInstruction) {\n    return '';\n  }\n  var key;\n  for (key in instruction) {\n    if (instruction.hasOwnProperty(key)) {\n      break;\n    }\n  }\n  var instructionName = 'instructionNameFn' in options ? options.instructionNameFn(key, instruction[key], currentElementName, currentElement$1) : key;\n  if (typeof instruction[key] === 'object') {\n    currentElement$1 = instruction;\n    currentElementName = instructionName;\n    return '<?' + instructionName + writeAttributes(instruction[key][options.attributesKey], options, depth) + '?>';\n  } else {\n    var instructionValue = instruction[key] ? instruction[key] : '';\n    if ('instructionFn' in options) instructionValue = options.instructionFn(instructionValue, key, currentElementName, currentElement$1);\n    return '<?' + instructionName + (instructionValue ? ' ' + instructionValue : '') + '?>';\n  }\n}\n\nfunction writeComment(comment, options) {\n  return options.ignoreComment ? '' : '<!--' + ('commentFn' in options ? options.commentFn(comment, currentElementName, currentElement$1) : comment) + '-->';\n}\n\nfunction writeCdata(cdata, options) {\n  return options.ignoreCdata ? '' : '<![CDATA[' + ('cdataFn' in options ? options.cdataFn(cdata, currentElementName, currentElement$1) : cdata.replace(']]>', ']]]]><![CDATA[>')) + ']]>';\n}\n\nfunction writeDoctype(doctype, options) {\n  return options.ignoreDoctype ? '' : '<!DOCTYPE ' + ('doctypeFn' in options ? options.doctypeFn(doctype, currentElementName, currentElement$1) : doctype) + '>';\n}\n\nfunction writeText(text, options) {\n  if (options.ignoreText) return '';\n  text = '' + text; // ensure Number and Boolean are converted to String\n  text = text.replace(/&amp;/g, '&'); // desanitize to avoid double sanitization\n  text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  return 'textFn' in options ? options.textFn(text, currentElementName, currentElement$1) : text;\n}\n\nfunction hasContent(element, options) {\n  var i;\n  if (element.elements && element.elements.length) {\n    for (i = 0; i < element.elements.length; ++i) {\n      switch (element.elements[i][options.typeKey]) {\n      case 'text':\n        if (options.indentText) {\n          return true;\n        }\n        break; // skip to next key\n      case 'cdata':\n        if (options.indentCdata) {\n          return true;\n        }\n        break; // skip to next key\n      case 'instruction':\n        if (options.indentInstruction) {\n          return true;\n        }\n        break; // skip to next key\n      case 'doctype':\n      case 'comment':\n      case 'element':\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElement(element, options, depth) {\n  currentElement$1 = element;\n  currentElementName = element.name;\n  var xml = [], elementName = 'elementNameFn' in options ? options.elementNameFn(element.name, element) : element.name;\n  xml.push('<' + elementName);\n  if (element[options.attributesKey]) {\n    xml.push(writeAttributes(element[options.attributesKey], options, depth));\n  }\n  var withClosingTag = element[options.elementsKey] && element[options.elementsKey].length || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n  if (!withClosingTag) {\n    if ('fullTagEmptyElementFn' in options) {\n      withClosingTag = options.fullTagEmptyElementFn(element.name, element);\n    } else {\n      withClosingTag = options.fullTagEmptyElement;\n    }\n  }\n  if (withClosingTag) {\n    xml.push('>');\n    if (element[options.elementsKey] && element[options.elementsKey].length) {\n      xml.push(writeElements(element[options.elementsKey], options, depth + 1));\n      currentElement$1 = element;\n      currentElementName = element.name;\n    }\n    xml.push(options.spaces && hasContent(element, options) ? '\\n' + Array(depth + 1).join(options.spaces) : '');\n    xml.push('</' + elementName + '>');\n  } else {\n    xml.push('/>');\n  }\n  return xml.join('');\n}\n\nfunction writeElements(elements, options, depth, firstLine) {\n  return elements.reduce(function (xml, element) {\n    var indent = writeIndentation(options, depth, firstLine && !xml);\n    switch (element.type) {\n    case 'element': return xml + indent + writeElement(element, options, depth);\n    case 'comment': return xml + indent + writeComment(element[options.commentKey], options);\n    case 'doctype': return xml + indent + writeDoctype(element[options.doctypeKey], options);\n    case 'cdata': return xml + (options.indentCdata ? indent : '') + writeCdata(element[options.cdataKey], options);\n    case 'text': return xml + (options.indentText ? indent : '') + writeText(element[options.textKey], options);\n    case 'instruction':\n      var instruction = {};\n      instruction[element[options.nameKey]] = element[options.attributesKey] ? element : element[options.instructionKey];\n      return xml + (options.indentInstruction ? indent : '') + writeInstruction(instruction, options, depth);\n    }\n  }, '');\n}\n\nfunction hasContentCompact(element, options, anyContent) {\n  var key;\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      switch (key) {\n      case options.parentKey:\n      case options.attributesKey:\n        break; // skip to next key\n      case options.textKey:\n        if (options.indentText || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.cdataKey:\n        if (options.indentCdata || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.instructionKey:\n        if (options.indentInstruction || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.doctypeKey:\n      case options.commentKey:\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElementCompact(element, name, options, depth, indent) {\n  currentElement$1 = element;\n  currentElementName = name;\n  var elementName = 'elementNameFn' in options ? options.elementNameFn(name, element) : name;\n  if (typeof element === 'undefined' || element === null || element === '') {\n    return 'fullTagEmptyElementFn' in options && options.fullTagEmptyElementFn(name, element) || options.fullTagEmptyElement ? '<' + elementName + '></' + elementName + '>' : '<' + elementName + '/>';\n  }\n  var xml = [];\n  if (name) {\n    xml.push('<' + elementName);\n    if (typeof element !== 'object') {\n      xml.push('>' + writeText(element,options) + '</' + elementName + '>');\n      return xml.join('');\n    }\n    if (element[options.attributesKey]) {\n      xml.push(writeAttributes(element[options.attributesKey], options, depth));\n    }\n    var withClosingTag = hasContentCompact(element, options, true) || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n    if (!withClosingTag) {\n      if ('fullTagEmptyElementFn' in options) {\n        withClosingTag = options.fullTagEmptyElementFn(name, element);\n      } else {\n        withClosingTag = options.fullTagEmptyElement;\n      }\n    }\n    if (withClosingTag) {\n      xml.push('>');\n    } else {\n      xml.push('/>');\n      return xml.join('');\n    }\n  }\n  xml.push(writeElementsCompact(element, options, depth + 1, false));\n  currentElement$1 = element;\n  currentElementName = name;\n  if (name) {\n    xml.push((indent ? writeIndentation(options, depth, false) : '') + '</' + elementName + '>');\n  }\n  return xml.join('');\n}\n\nfunction writeElementsCompact(element, options, depth, firstLine) {\n  var i, key, nodes, xml = [];\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      nodes = isArray$2(element[key]) ? element[key] : [element[key]];\n      for (i = 0; i < nodes.length; ++i) {\n        switch (key) {\n        case options.declarationKey: xml.push(writeDeclaration(nodes[i], options, depth)); break;\n        case options.instructionKey: xml.push((options.indentInstruction ? writeIndentation(options, depth, firstLine) : '') + writeInstruction(nodes[i], options, depth)); break;\n        case options.attributesKey: case options.parentKey: break; // skip\n        case options.textKey: xml.push((options.indentText ? writeIndentation(options, depth, firstLine) : '') + writeText(nodes[i], options)); break;\n        case options.cdataKey: xml.push((options.indentCdata ? writeIndentation(options, depth, firstLine) : '') + writeCdata(nodes[i], options)); break;\n        case options.doctypeKey: xml.push(writeIndentation(options, depth, firstLine) + writeDoctype(nodes[i], options)); break;\n        case options.commentKey: xml.push(writeIndentation(options, depth, firstLine) + writeComment(nodes[i], options)); break;\n        default: xml.push(writeIndentation(options, depth, firstLine) + writeElementCompact(nodes[i], key, options, depth, hasContentCompact(nodes[i], options)));\n        }\n        firstLine = firstLine && !xml.length;\n      }\n    }\n  }\n  return xml.join('');\n}\n\nvar js2xml = function (js, options) {\n  options = validateOptions$2(options);\n  var xml = [];\n  currentElement$1 = js;\n  currentElementName = '_root_';\n  if (options.compact) {\n    xml.push(writeElementsCompact(js, options, 0, true));\n  } else {\n    if (js[options.declarationKey]) {\n      xml.push(writeDeclaration(js[options.declarationKey], options, 0));\n    }\n    if (js[options.elementsKey] && js[options.elementsKey].length) {\n      xml.push(writeElements(js[options.elementsKey], options, 0, !xml.length));\n    }\n  }\n  return xml.join('');\n};\n\nvar json2xml = function (json, options) {\r\n  if (json instanceof Buffer) {\r\n    json = json.toString();\r\n  }\r\n  var js = null;\r\n  if (typeof (json) === 'string') {\r\n    try {\r\n      js = JSON.parse(json);\r\n    } catch (e) {\r\n      throw new Error('The JSON structure is invalid');\r\n    }\r\n  } else {\r\n    js = json;\r\n  }\r\n  return js2xml(js, options);\r\n};\n\n/*jslint node:true */\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar lib = {\r\n  xml2js: xml2js,\r\n  xml2json: xml2json,\r\n  js2xml: js2xml,\r\n  json2xml: json2xml\r\n};\n\nvar ElementTypes = {\n  Standalone: 'Standalone',\n  GenericSpan: 'GenericSpan',\n  GenericSpanStart: 'GenericSpanStart',\n  GenericSpanEnd: 'GenericSpanEnd',\n  Span: 'Span',\n  SpanStart: 'SpanStart',\n  SpanEnd: 'SpanEnd',\n  Marker: 'Marker'\n};\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction makeInlineElement(type, attributes, contents) {\n  var contentsObj = contents !== undefined ? {\n    contents: contents\n  } : {};\n  var dataObj = Object.assign({}, attributes, contentsObj);\n  return _defineProperty({}, type, dataObj);\n}\n\nvar _elementTypeToTagMap, _factories;\n\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ElementTypes2 = {\n  elementTypeToTagMap: (_elementTypeToTagMap = {}, _defineProperty$1(_elementTypeToTagMap, ElementTypes.Standalone, 'ph'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.GenericSpan, 'pc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.GenericSpanStart, 'sc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.GenericSpanEnd, 'ec'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.Span, 'pc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.SpanStart, 'sc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.SpanEnd, 'ec'), _elementTypeToTagMap),\n  tagToElementTypeMap: {\n    ph: ElementTypes.Standalone,\n    pc: ElementTypes.Span,\n    sc: ElementTypes.SpanStart,\n    ec: ElementTypes.SpanEnd\n  },\n  factories: (_factories = {}, _defineProperty$1(_factories, ElementTypes.Standalone, function (attributes) {\n    return makeInlineElement(ElementTypes.Standalone, attributes);\n  }), _defineProperty$1(_factories, ElementTypes.GenericSpan, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.GenericSpan, attributes, contents);\n  }), _defineProperty$1(_factories, ElementTypes.GenericSpanStart, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanStart, attributes);\n  }), _defineProperty$1(_factories, ElementTypes.GenericSpanEnd, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanEnd, attributes);\n  }), _defineProperty$1(_factories, ElementTypes.Span, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.Span, attributes, contents);\n  }), _defineProperty$1(_factories, ElementTypes.SpanStart, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanStart, attributes, contents);\n  }), _defineProperty$1(_factories, ElementTypes.SpanEnd, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanEnd, attributes, contents);\n  }), _factories)\n};\n\nfunction elementTypeToTag(type, types) {\n  return types.elementTypeToTagMap[type];\n}\nfunction tagToElementType(tagName, types) {\n  return types.tagToElementTypeMap[tagName];\n}\n\nfunction extractValue(valueElements, elementTypeInfo) {\n  if (valueElements === undefined || valueElements === null || valueElements === '') {\n    return '';\n  }\n\n  if (Array.isArray(valueElements) && valueElements.length > 1) {\n    return valueElements.map(function (valueElement) {\n      return extractValue(valueElement, elementTypeInfo);\n    });\n  }\n\n  var valueElement = Array.isArray(valueElements) ? valueElements[0] || '' : valueElements;\n\n  if (valueElement.type === 'text') {\n    if (/\\n\\s*$/.test(valueElement.text)) {\n      return valueElement.text.substr(0, valueElement.text.lastIndexOf('\\n'));\n    }\n\n    return valueElement.text;\n  }\n\n  var elementType = tagToElementType(valueElement.name, elementTypeInfo);\n\n  if (valueElement.type === 'element' && elementType !== undefined) {\n    var inlineElementFactory = elementTypeInfo.factories[elementType];\n    return inlineElementFactory(valueElement.attributes, extractValue(valueElement.elements, elementTypeInfo));\n  }\n\n  if (valueElement.type === 'cdata') {\n    return valueElement.cdata;\n  }\n\n  return '';\n}\n\nvar xliffToJsClb = function xliffToJsClb(str, options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n\n  options = options || {};\n\n  if (typeof str !== 'string') {\n    var err = new Error('The first parameter was not a string');\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var result = {};\n  var xmlObj;\n\n  try {\n    xmlObj = lib.xml2js(str, {});\n  } catch (err) {\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var xliffRoot = xmlObj.elements.find(function (ele) {\n    return ele.name === 'xliff';\n  });\n\n  if (xliffRoot.attributes) {\n    var srcLang = xliffRoot.attributes.srcLang;\n    var trgLang = xliffRoot.attributes.trgLang;\n    result.sourceLanguage = srcLang;\n    result.targetLanguage = trgLang;\n    if (!result.targetLanguage) delete result.targetLanguage;\n    xliffRoot.elements = xliffRoot.elements.filter(function (child) {\n      return child.type !== 'comment';\n    });\n    result.resources = xliffRoot.elements.reduce(function (resources, file) {\n      var namespace = options.namespace || file.attributes.id;\n      var initValues = {};\n      if (!result.targetLanguage) delete initValues.target;\n      file.elements = file.elements || [];\n      file.elements = file.elements.filter(function (child) {\n        return child.type !== 'comment';\n      });\n      resources[namespace] = createUnits(file, initValues);\n      return resources;\n    }, {});\n  }\n\n  if (cb) return cb(null, result);\n  return result;\n};\n\nfunction createUnits(parent, initValues) {\n  if (!parent.elements) return {};\n  return parent.elements.reduce(function (file, unit) {\n    var key = unit.attributes.id;\n    var additionalAttributes = unit.attributes;\n    delete additionalAttributes.id;\n\n    switch (unit.name) {\n      case 'unit':\n        file[key] = createUnit(unit, initValues);\n\n        if (Object.keys(additionalAttributes).length) {\n          Object.assign(file[key], {\n            additionalAttributes: additionalAttributes\n          });\n        }\n\n        return file;\n\n      case 'group':\n        file[key] = {\n          groupUnits: createUnits(unit, initValues)\n        };\n\n        if (Object.keys(additionalAttributes).length) {\n          Object.assign(file[key], {\n            additionalAttributes: additionalAttributes\n          });\n        }\n\n        return file;\n\n      default:\n        return file;\n    }\n  }, {});\n}\n\nfunction createUnit(unit, initValues) {\n  if (!unit.elements) return undefined;\n  return unit.elements.reduce(function (unit, segment) {\n    if (['segment', 'notes'].indexOf(segment.name) < 0) return unit;\n    segment.elements.forEach(function (element) {\n      var value = extractValue(element.elements, ElementTypes2);\n\n      switch (element.name) {\n        case 'source':\n        case 'target':\n          unit[element.name] = value;\n          break;\n\n        case 'note':\n          if (unit[element.name]) {\n            if (!Array.isArray(unit[element.name])) {\n              unit[element.name] = [unit[element.name]];\n            }\n\n            unit[element.name].push(value);\n          } else {\n            unit[element.name] = value;\n          }\n\n          break;\n      }\n    });\n    return unit;\n  }, JSON.parse(JSON.stringify(initValues)));\n}\n\nfunction xliffToJs(str, options, cb) {\n  if (!cb && options === undefined) {\n    return new Promise(function (resolve, reject) {\n      return xliffToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof options !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return xliffToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  xliffToJsClb(str, options, cb);\n}\n\nvar _elementTypeToTagMap$1, _factories$1;\n\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ElementTypes12 = {\n  elementTypeToTagMap: (_elementTypeToTagMap$1 = {}, _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.Standalone, 'x'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.GenericSpan, 'g'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.GenericSpanStart, 'bx'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.GenericSpanEnd, 'ex'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.Span, 'ph'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.SpanStart, 'bpt'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.SpanEnd, 'ept'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.Marker, 'mrk'), _elementTypeToTagMap$1),\n  tagToElementTypeMap: {\n    x: ElementTypes.Standalone,\n    g: ElementTypes.GenericSpan,\n    bx: ElementTypes.GenericSpanStart,\n    ex: ElementTypes.GenericSpanEnd,\n    ph: ElementTypes.Span,\n    bpt: ElementTypes.SpanStart,\n    ept: ElementTypes.SpanEnd,\n    mrk: ElementTypes.Marker\n  },\n  factories: (_factories$1 = {}, _defineProperty$2(_factories$1, ElementTypes.Standalone, function (attributes) {\n    return makeInlineElement(ElementTypes.Standalone, attributes);\n  }), _defineProperty$2(_factories$1, ElementTypes.GenericSpan, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.GenericSpan, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.GenericSpanStart, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanStart, attributes);\n  }), _defineProperty$2(_factories$1, ElementTypes.GenericSpanEnd, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanEnd, attributes);\n  }), _defineProperty$2(_factories$1, ElementTypes.Span, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.Span, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.SpanStart, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanStart, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.SpanEnd, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanEnd, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.Marker, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.Marker, attributes, contents);\n  }), _factories$1)\n};\n\nvar xliff12ToJsClb = function xliff12ToJsClb(str, options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n\n  options = options || {};\n\n  if (typeof str !== 'string') {\n    var err = new Error('The first parameter was not a string');\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var result = {};\n  var xmlObj;\n\n  try {\n    xmlObj = lib.xml2js(str, {});\n  } catch (err) {\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var xliffRoot = xmlObj.elements.find(function (ele) {\n    return ele.name === 'xliff';\n  });\n\n  if (xliffRoot.elements && xliffRoot.elements.length) {\n    var srcLang = xliffRoot.elements[0].attributes['source-language'];\n    var trgLang = xliffRoot.elements[0].attributes['target-language'];\n    result.sourceLanguage = srcLang;\n    result.targetLanguage = trgLang;\n    if (!result.targetLanguage) delete result.targetLanguage;\n    result.resources = xliffRoot.elements.reduce(function (resources, file) {\n      var namespace = options.namespace || file.attributes.original;\n      var body = file.elements.find(function (e) {\n        return e.name === 'body';\n      });\n      body.elements = body.elements || [];\n      var bodyChildren = body.elements.filter(function (child) {\n        return child.type !== 'comment';\n      });\n      resources[namespace] = createUnits$1(bodyChildren);\n      return resources;\n    }, {});\n  } else {\n    result.resources = {};\n  }\n\n  if (cb) return cb(null, result);\n  return result;\n};\n\nfunction createUnits$1(childElements) {\n  return childElements.reduce(function (parent, child) {\n    var key = child.attributes.id;\n    if (!child.elements) return parent;\n    var children = child.elements.filter(function (e) {\n      return e.name === 'trans-unit' || e.name === 'group';\n    });\n\n    if (children.length) {\n      parent[key] = createGroupTag(child, children);\n    } else {\n      parent[key] = createTransUnitTag(child);\n    }\n\n    return parent;\n  }, {});\n}\n\nfunction createTransUnitTag(transUnit) {\n  var jsUnit = transUnit.elements.reduce(function (unit, element) {\n    var value = extractValue(element.elements, ElementTypes12);\n\n    switch (element.name) {\n      case 'source':\n      case 'target':\n        unit[element.name] = value;\n        break;\n\n      case 'note':\n        if (unit[element.name]) {\n          if (!Array.isArray(unit[element.name])) {\n            unit[element.name] = [unit[element.name]];\n          }\n\n          unit[element.name].push(value);\n        } else {\n          unit[element.name] = value;\n        }\n\n        break;\n    }\n\n    return unit;\n  }, {});\n  return addAdditionalAttributes(jsUnit, transUnit.attributes);\n}\n\nfunction createGroupTag(groupUnit, children) {\n  var jsGroupUnit = {\n    groupUnits: createUnits$1(children)\n  };\n  return addAdditionalAttributes(jsGroupUnit, groupUnit.attributes);\n}\n\nfunction addAdditionalAttributes(jsUnit, attributes) {\n  var additionalAttributes = attributes;\n  delete additionalAttributes.id;\n\n  if (Object.keys(additionalAttributes).length) {\n    Object.assign(jsUnit, {\n      additionalAttributes: additionalAttributes\n    });\n  }\n\n  return jsUnit;\n}\n\nfunction xliff12ToJs(str, options, cb) {\n  if (!cb && options === undefined) {\n    return new Promise(function (resolve, reject) {\n      return xliff12ToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof options !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return xliff12ToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  xliff12ToJsClb(str, options, cb);\n}\n\nfunction makeElement(name, attributes, elements) {\n  var el = {\n    type: 'element',\n    name: name\n  };\n\n  if (attributes !== null && attributes !== undefined) {\n    el.attributes = attributes;\n  }\n\n  if (Array.isArray(elements)) {\n    el.elements = elements;\n  } else if (elements === true) {\n    el.elements = [];\n  }\n\n  return el;\n}\nfunction makeText(text) {\n  return {\n    type: 'text',\n    text: text\n  };\n}\nfunction makeValue(content, elementTypeInfo) {\n  if (!Array.isArray(content)) {\n    if (typeof content === 'string' || content instanceof String) {\n      return [makeText(content)];\n    }\n\n    var elementType = Object.keys(content)[0];\n    var elementTag = elementTypeToTag(elementType, elementTypeInfo);\n\n    if (elementTag !== undefined) {\n      var attrsSrc = Object.assign({}, content[elementType]);\n      delete attrsSrc.id;\n      delete attrsSrc.contents;\n      var contents = content[elementType].hasOwnProperty('contents') ? makeValue(content[elementType].contents, elementTypeInfo) : undefined;\n      var attrs = {\n        id: content[elementType].id\n      };\n      Object.keys(attrsSrc).forEach(function (attrKey) {\n        attrs[attrKey] = attrsSrc[attrKey];\n      });\n      return [makeElement(elementTag, attrs, contents)];\n    }\n\n    return [makeText(content)];\n  }\n\n  return content.map(function (segment) {\n    if (typeof segment === 'string' || segment instanceof String) {\n      return makeText(segment);\n    }\n\n    var elementType = Object.keys(segment)[0];\n    var elementTag = elementTypeToTag(elementType, elementTypeInfo);\n\n    if (elementTag !== undefined) {\n      var _attrsSrc = Object.assign({}, segment[elementType]);\n\n      delete _attrsSrc.id;\n      delete _attrsSrc.contents;\n\n      var _contents = segment[elementType].hasOwnProperty('contents') ? makeValue(segment[elementType].contents, elementTypeInfo) : undefined;\n\n      var _attrs = {\n        id: segment[elementType].id\n      };\n      Object.keys(_attrsSrc).forEach(function (attrKey) {\n        _attrs[attrKey] = _attrsSrc[attrKey];\n      });\n      return makeElement(elementTag, _attrs, _contents);\n    }\n\n    var segmentString = '{ ' + Object.keys(segment).reduce(function (result, segmentKey) {\n      return result + segmentKey + ': \"' + segment[segmentKey].toString() + '\"';\n    }, '') + ' }';\n    return {\n      type: 'comment',\n      comment: 'Warning: unexpected segment ' + segmentString + ' was ignored'\n    };\n  });\n}\n\nvar map = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&apos;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\nfunction escape (str) {\n  Object.keys(map).forEach(function (char) {\n    str = str.replace(new RegExp(char, 'g'), map[char]);\n  });\n  return str;\n}\n\nvar js2xliffClb = function js2xliffClb(obj, opt, cb) {\n  if (!cb && typeof opt === 'function') {\n    cb = opt;\n    opt = {\n      indent: '  '\n    };\n  }\n\n  opt = opt || {\n    indent: '  '\n  };\n  var options = {\n    spaces: opt.indent !== undefined ? opt.indent : '  '\n  };\n  var rootAttributes = {\n    xmlns: 'urn:oasis:names:tc:xliff:document:2.0',\n    version: '2.0',\n    srcLang: obj.sourceLanguage,\n    trgLang: obj.targetLanguage\n  };\n  var root = makeElement('xliff', rootAttributes, true);\n  Object.keys(obj.resources).forEach(function (nsName) {\n    var fileChildren = createUnitTags(obj.resources[nsName]);\n    var f = makeElement('file', {\n      id: nsName\n    }, fileChildren);\n    root.elements.push(f);\n  });\n  var xmlJs = {\n    elements: [root]\n  };\n  var xml = lib.js2xml(xmlJs, options);\n  if (cb) cb(null, xml);\n  return xml;\n};\n\nfunction createUnitTags(unitElements) {\n  return Object.keys(unitElements).map(function (key) {\n    if (unitElements[key].groupUnits) {\n      return createGroupUnitTag(key, unitElements[key]);\n    } else {\n      return createUnitTag(key, unitElements[key]);\n    }\n  });\n}\n\nfunction createGroupUnitTag(id, group) {\n  var additionalAttributes = group.additionalAttributes != null ? group.additionalAttributes : {};\n  var groupUnits = createUnitTags(group.groupUnits);\n  return makeElement('group', Object.assign({\n    id: escape(id)\n  }, additionalAttributes), groupUnits);\n}\n\nfunction createUnitTag(id, unit) {\n  var segment = makeElement('segment', null, true);\n  if (!unit.source && unit.target) unit.source = '';\n  if (unit.source) segment.elements.push(makeElement('source', null, makeValue(unit.source, ElementTypes2)));\n  if (unit.target !== undefined) segment.elements.push(makeElement('target', null, makeValue(unit.target, ElementTypes2)));\n  var subEle = [segment];\n\n  if ('note' in unit) {\n    var noteElms = [];\n    createNoteObjects(unit.note).forEach(function (noteObj) {\n      noteElms.push(makeElement('note', null, [noteObj]));\n    });\n    subEle.unshift(makeElement('notes', null, noteElms));\n  }\n\n  var additionalAttributes = unit.additionalAttributes != null ? unit.additionalAttributes : {};\n  return makeElement('unit', Object.assign({\n    id: escape(id)\n  }, additionalAttributes), subEle);\n}\n\nfunction createNoteObjects(note) {\n  var arrNote = [];\n  var baseNote = makeText(note);\n\n  if (Array.isArray(baseNote.text)) {\n    baseNote.text.forEach(function (text) {\n      arrNote.push({\n        type: baseNote.type,\n        text: text\n      });\n    });\n  } else {\n    arrNote.push(baseNote);\n  }\n\n  return arrNote;\n}\n\nvar js2xliff = function js2xliff(obj, opt, cb) {\n  if (!cb && opt === undefined) {\n    return new Promise(function (resolve, reject) {\n      return js2xliffClb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof opt !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return js2xliffClb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return js2xliffClb(obj, opt, cb);\n};\n\njs2xliff.js2xliffClb = js2xliffClb;\n\nvar jsToXliff12Clb = function jsToXliff12Clb(obj, opt, cb) {\n  if (!cb && typeof opt === 'function') {\n    cb = opt;\n    opt = {\n      indent: '  '\n    };\n  }\n\n  opt = opt || {\n    indent: '  '\n  };\n  var options = {\n    spaces: opt.indent !== undefined ? opt.indent : '  ',\n    xmlLangAttr: !!opt.xmlLangAttr\n  };\n  var rootAttributes = {\n    'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n    'xsi:schemaLocation': 'urn:oasis:names:tc:xliff:document:1.2 http://docs.oasis-open.org/xliff/v1.2/os/xliff-core-1.2-strict.xsd',\n    xmlns: 'urn:oasis:names:tc:xliff:document:1.2',\n    version: '1.2'\n  };\n  var root = makeElement('xliff', rootAttributes, true);\n  Object.keys(obj.resources).forEach(function (nsName) {\n    var bodyChildren = createUnitTags$1(obj.resources[nsName], obj, options);\n    var b = makeElement('body', null, bodyChildren);\n    var fileAttributes = {\n      original: nsName,\n      datatype: 'plaintext',\n      'source-language': obj.sourceLanguage\n    };\n\n    if (obj.targetLanguage != null) {\n      fileAttributes['target-language'] = obj.targetLanguage;\n    }\n\n    var f = makeElement('file', fileAttributes, [b]);\n    root.elements.push(f);\n  });\n  var xmlJs = {\n    elements: [root]\n  };\n  var xml = lib.js2xml(xmlJs, options);\n  if (cb) cb(null, xml);\n  return xml;\n};\n\nfunction createUnitTags$1(unitElements, obj, options) {\n  return Object.keys(unitElements).map(function (key) {\n    if (unitElements[key].groupUnits) {\n      return createGroupUnitTag$1(key, unitElements[key], obj, options);\n    } else {\n      return createTransUnitTag$1(key, unitElements[key], obj, options);\n    }\n  });\n}\n\nfunction createGroupUnitTag$1(key, resource, obj, options) {\n  var additionalAttributes = resource.additionalAttributes != null ? resource.additionalAttributes : {};\n  var groupUnits = createUnitTags$1(resource.groupUnits, obj, options);\n  return makeElement('group', Object.assign({\n    id: escape(key)\n  }, additionalAttributes), groupUnits);\n}\n\nfunction createTransUnitTag$1(key, resource, obj, options) {\n  var additionalAttributes = resource.additionalAttributes != null ? resource.additionalAttributes : {};\n  var u = makeElement('trans-unit', Object.assign({\n    id: escape(key)\n  }, additionalAttributes), true);\n  var sourceAttributes = null;\n\n  if (options.xmlLangAttr) {\n    sourceAttributes = {\n      'xml:lang': obj.sourceLanguage\n    };\n  }\n\n  if (!resource.source && resource.target) resource.source = '';\n  if (resource.source) u.elements.push(makeElement('source', sourceAttributes, makeValue(resource.source, ElementTypes12)));\n\n  if (resource.target != null) {\n    var targetAttributes = null;\n\n    if (options.xmlLangAttr && obj.targetLanguage) {\n      targetAttributes = {\n        'xml:lang': obj.targetLanguage\n      };\n    }\n\n    u.elements.push(makeElement('target', targetAttributes, makeValue(resource.target, ElementTypes12)));\n  }\n\n  if ('note' in resource) {\n    createNoteObjects$1(resource.note).forEach(function (noteObj) {\n      u.elements.push(makeElement('note', null, [noteObj]));\n    });\n  }\n\n  return u;\n}\n\nfunction createNoteObjects$1(note) {\n  var arrNote = [];\n  var baseNote = makeText(note);\n\n  if (Array.isArray(baseNote.text)) {\n    baseNote.text.forEach(function (text) {\n      arrNote.push({\n        type: baseNote.type,\n        text: text\n      });\n    });\n  } else {\n    arrNote.push(baseNote);\n  }\n\n  return arrNote;\n}\n\nvar jsToXliff12 = function jsToXliff12(obj, opt, cb) {\n  if (!cb && opt === undefined) {\n    return new Promise(function (resolve, reject) {\n      return jsToXliff12Clb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof opt !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return jsToXliff12Clb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return jsToXliff12Clb(obj, opt, cb);\n};\n\njsToXliff12.jsToXliff12Clb = jsToXliff12Clb;\n\nfunction ofjs(js, what, cb) {\n  var res = {};\n  var nsKeys = Object.keys(js.resources || {});\n\n  if (nsKeys.length === 1) {\n    var ns = js.resources[nsKeys[0]];\n    var keys = Object.keys(ns);\n    keys.forEach(function (key) {\n      var value = getSegment(ns[key], what);\n      if (value === undefined) return;\n      res[key] = value;\n    });\n    if (cb) return cb(null, res);\n    return res;\n  }\n\n  nsKeys.forEach(function (nsKey) {\n    res[nsKey] = {};\n    var ns = js.resources[nsKey];\n    var keys = Object.keys(ns);\n    keys.forEach(function (key) {\n      var value = getSegment(ns[key], what);\n      if (value !== undefined) res[nsKey][key] = value;\n    });\n  });\n  if (cb) return cb(null, res);\n  return res;\n}\n\nfunction getSegment(category, what) {\n  var value = category[what];\n\n  if (value === undefined && category.groupUnits) {\n    value = {};\n    var groupKeys = Object.keys(category.groupUnits);\n    groupKeys.forEach(function (groupKey) {\n      var groupValue = getSegment(category.groupUnits[groupKey], what);\n      if (groupValue !== undefined) value[groupKey] = groupValue;\n    });\n  }\n\n  return value;\n}\n\nfunction targetOfjs(js, cb) {\n  return ofjs(js, 'target', cb);\n}\n\nfunction sourceOfjs(js, cb) {\n  return ofjs(js, 'source', cb);\n}\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction setSegment(category, srcObj, trgObj, ntObj, key) {\n  var srcValue = srcObj[key];\n  var trgValue = trgObj[key];\n\n  if (_typeof(srcValue) === 'object' && _typeof(trgValue) === 'object') {\n    category[key] = {\n      groupUnits: {}\n    };\n    var grpObj = category[key].groupUnits;\n    Object.keys(srcValue).forEach(function (grpKey) {\n      setSegment(grpObj, srcObj[key], trgObj[key], ntObj[key], grpKey);\n\n      if (ntObj && ntObj[key] && ntObj[key][grpKey]) {\n        category[key].note = ntObj[key][grpKey];\n      }\n    });\n  } else {\n    category[key] = {\n      source: srcValue,\n      target: trgValue\n    };\n\n    if (ntObj && ntObj[key]) {\n      category[key].note = ntObj[key];\n    }\n  }\n}\n\nvar createjsClb = function createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb) {\n  var js = {\n    sourceLanguage: srcLng,\n    targetLanguage: trgLng,\n    resources: {}\n  };\n\n  if (!cb && (!ns || typeof ns !== 'string')) {\n    cb = ns;\n    ns = null;\n  }\n\n  trgKeys = trgKeys || {};\n  var keys = Object.keys(srcKeys);\n  Object.keys(trgKeys).forEach(function (k) {\n    if (keys.indexOf(k) < 0) keys.push(k);\n  });\n\n  if (ns && typeof ns === 'string') {\n    js.resources[ns] = {};\n    var nsObj = js.resources[ns];\n    keys.forEach(function (srcKey) {\n      setSegment(nsObj, srcKeys, trgKeys, ntKeys, srcKey);\n    });\n    if (cb) cb(null, js);\n    return js;\n  }\n\n  keys.forEach(function (ns) {\n    js.resources[ns] = {};\n    Object.keys(srcKeys[ns]).forEach(function (srcKey) {\n      setSegment(js.resources[ns], srcKeys[ns], trgKeys[ns], ntKeys && ntKeys[ns], srcKey);\n    });\n  });\n  if (cb) cb(null, js);\n  return js;\n};\n\nvar createjs = function createjs(srcLng, trgLng, srcKeys, trgKeys, ns, cb, ntKeys) {\n  if (!cb && ns === undefined) {\n    return new Promise(function (resolve, reject) {\n      return createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof ns !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb);\n};\n\ncreatejs.createjsClb = createjsClb;\n\nvar createjs$1 = createjs.createjsClb;\nvar js2xliff$1 = js2xliff.js2xliffClb;\n\nvar createxliffClb = function createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb) {\n  if (!ns || typeof ns !== 'string') {\n    cb = ns;\n    ns = null;\n  }\n\n  if (!cb) {\n    return js2xliff$1(createjs$1(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns));\n  }\n\n  createjs$1(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, res) {\n    if (err) return cb(err);\n    js2xliff$1(res, cb);\n  });\n};\n\nfunction createxliff(srcLng, trgLng, srcKeys, trgKeys, ns, cb, ntKeys) {\n  if (!cb && ns === undefined) {\n    return new Promise(function (resolve, reject) {\n      return createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof ns !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb);\n}\n\nvar createjs$2 = createjs.createjsClb;\nvar jsToXliff12$1 = jsToXliff12.jsToXliff12Clb;\n\nvar createxliff12Clb = function createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb) {\n  if (!ns || typeof ns !== 'string') {\n    cb = ns;\n    ns = null;\n  }\n\n  if (!cb) {\n    return jsToXliff12$1(createjs$2(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns));\n  }\n\n  createjs$2(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, res) {\n    if (err) return cb(err);\n    jsToXliff12$1(res, cb);\n  });\n};\n\nfunction createxliff12(srcLng, trgLng, srcKeys, trgKeys, ns, cb, ntKeys) {\n  if (!cb && ns === undefined) {\n    return new Promise(function (resolve, reject) {\n      return createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof ns !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb);\n}\n\nvar index = {\n  xliff2js: xliffToJs,\n  xliff12ToJs: xliff12ToJs,\n  js2xliff: js2xliff,\n  jsToXliff12: jsToXliff12,\n  targetOfjs: targetOfjs,\n  sourceOfjs: sourceOfjs,\n  createjs: createjs,\n  createxliff: createxliff,\n  createxliff12: createxliff12\n};\n\nexport default index;\nexport { createjs, createxliff, createxliff12, js2xliff, jsToXliff12, sourceOfjs, targetOfjs, xliff12ToJs, xliffToJs as xliff2js };\n"],"sourceRoot":""}