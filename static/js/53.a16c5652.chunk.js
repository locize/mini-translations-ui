(self.webpackChunkmini_locize=self.webpackChunkmini_locize||[]).push([[53],{2361:function(){},4616:function(){},8844:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(3092);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=function(e){return e.replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/\n/g,"\\n")},m=["b","em","i","cite","dfn","big","small","font","tt","s","strike","del","u","sup","sub","ul","li","p","xliff:g","a"].map((function(e){return"(</".concat(e,">)")})).concat(["div","br","span"].map((function(e){return"(<".concat(e,")")}))).join("|"),a=new RegExp(m,"m"),u=function(e){return e.indexOf("<![CDATA[")<0&&a.test(e)?{type:"cdata",cdata:e}:{type:"text",text:i(e)}},o=function(e){if(e.indexOf("<![CDATA[")<0&&a.test(e)){var t=s.xml2js("<root>"+e+"</root>",{compress:!1});return t.elements[0].elements.forEach((function(e){"text"===e.type&&(e.text=i(e.text))})),t.elements[0].elements}return[u(e)]},l=function(e,t,n){n||"function"!==typeof t||(n=t,t={indent:"  "}),(t=t||{indent:"  "}).comment=t.comment||"comment";var i={spaces:t.indent||"  ",compact:!1},m={},a=[],u=[],l=[],f=[];Object.keys(e).forEach((function(n){if("string"!==typeof e[n]&&Array.isArray(e[n]))l.push({type:"element",name:"string-array",attributes:{name:n},elements:e[n].map((function(e){return{type:"element",name:"item",elements:o(e)}}))});else if("string"===typeof e[n]){if(/\.(zero|one|two|few|many|other)$/.test(n)){var i=n.lastIndexOf("."),c=n.substring(0,i),p=n.substring(i+1,n.length),y=f.find((function(e){return e.attributes.name===c}));y||(y={type:"element",name:"plurals",attributes:{name:c},elements:[]},f.push(y)),y.elements.push({type:"element",name:"item",attributes:{quantity:p},elements:o(e[n])})}else if(/\.\d+$/.test(n)){var b=n.lastIndexOf("."),g=n.substring(0,b),d=n.substring(b+1,n.length),x=l.find((function(e){return e.attributes.name===g}));x||(x={type:"element",name:"string-array",attributes:{name:g},elements:[]},l.push(x)),x.elements[d]={type:"element",name:"item",elements:o(e[n])}}else if(e[n].indexOf("<xliff:g ")>-1){var h=s.xml2js("<root>"+e[n]+"</root>",{compress:!1});u.push({type:"element",name:"string",attributes:{name:n},elements:h.elements[0].elements})}else u.push({type:"element",name:"string",attributes:{name:n},elements:o(e[n])});e[n].indexOf("<xliff:g ")>-1&&!m["xmlns:xliff"]&&(m["xmlns:xliff"]="urn:oasis:names:tc:xliff:document:1.2")}if("object"===r(e[n])&&"string"===typeof e[n].value&&"string"===typeof e[n].comment){if(/\.(zero|one|two|few|many|other)$/.test(n)){var v=n.lastIndexOf("."),O=n.substring(0,v),j=n.substring(v+1,n.length),w=f.find((function(e){return e.attributes.name===O}));w||(w={type:"element",name:"plurals",attributes:{name:O},elements:[]},f.push(w)),w.elements.push({type:"element",name:"item",attributes:{quantity:j},elements:o(e[n].value)})}else if(/\.\d+$/.test(n)){var E=n.lastIndexOf("."),k=n.substring(0,E),A=n.substring(E+1,n.length),S=l.find((function(e){return e.attributes.name===k}));S||(S={attributes:{name:k},elements:[]},l.push(S)),S.elements[A]={type:"element",name:"item",elements:o(e[n].value)}}else if(e[n].value.indexOf("<xliff:g ")>-1){var z=s.xml2js("<root>"+e[n].value+"</root>",{compress:!1});u.push({type:"element",name:"string",attributes:{name:n},elements:z.elements[0].elements})}else{var C={type:"element",name:"string",attributes:{name:n},elements:o(e[n].value)};"attribute"===t.comment&&(C.attributes.comment=e[n].comment),u.push(C)}a.push(n)}}));var c=[];l.forEach((function(e){e.elements.length>1&&e.elements.filter((function(e){return e})).length<e.elements.length&&(e.elements.filter((function(e){return e})).forEach((function(t){var n="".concat(e.attributes.name,".").concat(e.elements.indexOf(t));u.push({type:"element",name:"string",attributes:{name:n},elements:t.elements})})),c.push(e))})),c.forEach((function(e){l.splice(l.indexOf(e),1)}));var p=u.concat(l).concat(f),y=s.js2xml({declaration:{attributes:{version:"1.0",encoding:"utf-8"}},elements:[{type:"element",name:"resources",elements:p,attributes:m}]},i);return"comment"===t.comment&&a.forEach((function(t){var n=y.indexOf('name="'.concat(t,'"'));if(!(n<0)){var s=n+y.substring(n).indexOf("</string>")+9;s<0||(y=[y.slice(0,s)," \x3c!-- ".concat(e[t].comment," --\x3e"),y.slice(s)].join(""))}})),n&&n(null,y),y};function f(e,t,n){return(n||void 0!==t)&&(n||"function"===typeof t)?void l(e,t,n):new Promise((function(n,s){return l(e,t,(function(e,t){return e?s(e):n(t)}))}))}}}]);
//# sourceMappingURL=53.a16c5652.chunk.js.map