{"version":3,"file":"static/js/998.0ee49317.chunk.js","mappings":"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","sources":["../../file-xliff/dist/es/index-2f65a58d.js"],"sourcesContent":["import stream from 'stream';\nimport string_decoder from 'string_decoder';\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar sax = createCommonjsModule(function (module, exports) {\n(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) };\n  sax.SAXParser = SAXParser;\n  sax.SAXStream = SAXStream;\n  sax.createStream = createStream;\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024;\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ];\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ];\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this;\n    clearBuffers(parser);\n    parser.q = parser.c = '';\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH;\n    parser.opt = opt || {};\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase';\n    parser.tags = [];\n    parser.closed = parser.closedRoot = parser.sawRoot = false;\n    parser.tag = parser.error = null;\n    parser.strict = !!strict;\n    parser.noscript = !!(strict || parser.opt.noscript);\n    parser.state = S.BEGIN;\n    parser.strictEntities = parser.opt.strictEntities;\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES);\n    parser.attribList = [];\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS);\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false;\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0;\n    }\n    emit(parser, 'onready');\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o;\n      var newf = new F();\n      return newf\n    };\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = [];\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i);\n      return a\n    };\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10);\n    var maxActual = 0;\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length;\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser);\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata);\n            parser.cdata = '';\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script);\n            parser.script = '';\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i]);\n        }\n      }\n      maxActual = Math.max(maxActual, len);\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual;\n    parser.bufferCheckPosition = m + parser.position;\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = '';\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser);\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata);\n      parser.cdata = '';\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script);\n      parser.script = '';\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this); },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this); }\n  };\n\n  var Stream;\n  try {\n    Stream = stream.Stream;\n  } catch (ex) {\n    Stream = function () {};\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  });\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this);\n\n    this._parser = new SAXParser(strict, opt);\n    this.writable = true;\n    this.readable = true;\n\n    var me = this;\n\n    this._parser.onend = function () {\n      me.emit('end');\n    };\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er);\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null;\n    };\n\n    this._decoder = null;\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev);\n            me._parser['on' + ev] = h;\n            return h\n          }\n          me.on(ev, h);\n        },\n        enumerable: true,\n        configurable: false\n      });\n    });\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  });\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = string_decoder.StringDecoder;\n        this._decoder = new SD('utf8');\n      }\n      data = this._decoder.write(data);\n    }\n\n    this._parser.write(data.toString());\n    this.emit('data', data);\n    return true\n  };\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk);\n    }\n    this._parser.end();\n    return true\n  };\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this;\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);\n        args.splice(0, 0, ev);\n        me.emit.apply(me, args);\n      };\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  };\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA[';\n  var DOCTYPE = 'DOCTYPE';\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/';\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0;\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  };\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  };\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  };\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key];\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e;\n    sax.ENTITIES[key] = s;\n  });\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s;\n  }\n\n  // shorthand\n  S = sax.STATE;\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data);\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser);\n    emit(parser, nodeType, data);\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode);\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode);\n    parser.textNode = '';\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim();\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ');\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser);\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c;\n    }\n    er = new Error(er);\n    parser.error = er;\n    emit(parser, 'onerror', er);\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag');\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end');\n    }\n    closeText(parser);\n    parser.c = '';\n    parser.closed = true;\n    emit(parser, 'onend');\n    SAXParser.call(parser, parser.strict, parser.opt);\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message);\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]();\n    var parent = parser.tags[parser.tags.length - 1] || parser;\n    var tag = parser.tag = { name: parser.tagName, attributes: {} };\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns;\n    }\n    parser.attribList.length = 0;\n    emitNode(parser, 'onopentagstart', tag);\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':');\n    var qualName = i < 0 ? [ '', name ] : name.split(':');\n    var prefix = qualName[0];\n    var local = qualName[1];\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns';\n      local = '';\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]();\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = '';\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true);\n      var prefix = qn.prefix;\n      var local = qn.local;\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue);\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue);\n        } else {\n          var tag = parser.tag;\n          var parent = parser.tags[parser.tags.length - 1] || parser;\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns);\n          }\n          tag.ns[local] = parser.attribValue;\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue]);\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue;\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      });\n    }\n\n    parser.attribName = parser.attribValue = '';\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag;\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName);\n      tag.prefix = qn.prefix;\n      tag.local = qn.local;\n      tag.uri = tag.ns[qn.prefix] || '';\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName));\n        tag.uri = qn.prefix;\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser;\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          });\n        });\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i];\n        var name = nv[0];\n        var value = nv[1];\n        var qualName = qname(name, true);\n        var prefix = qualName.prefix;\n        var local = qualName.local;\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '');\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        };\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix));\n          a.uri = prefix;\n        }\n        parser.tag.attributes[name] = a;\n        emitNode(parser, 'onattribute', a);\n      }\n      parser.attribList.length = 0;\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing;\n\n    // process the tag\n    parser.sawRoot = true;\n    parser.tags.push(parser.tag);\n    emitNode(parser, 'onopentag', parser.tag);\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT;\n      } else {\n        parser.state = S.TEXT;\n      }\n      parser.tag = null;\n      parser.tagName = '';\n    }\n    parser.attribName = parser.attribValue = '';\n    parser.attribList.length = 0;\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.');\n      parser.textNode += '</>';\n      parser.state = S.TEXT;\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>';\n        parser.tagName = '';\n        parser.state = S.SCRIPT;\n        return\n      }\n      emitNode(parser, 'onscript', parser.script);\n      parser.script = '';\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length;\n    var tagName = parser.tagName;\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]();\n    }\n    var closeTo = tagName;\n    while (t--) {\n      var close = parser.tags[t];\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag');\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName);\n      parser.textNode += '</' + parser.tagName + '>';\n      parser.state = S.TEXT;\n      return\n    }\n    parser.tagName = tagName;\n    var s = parser.tags.length;\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop();\n      parser.tagName = parser.tag.name;\n      emitNode(parser, 'onclosetag', parser.tagName);\n\n      var x = {};\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i];\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser;\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p];\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n });\n        });\n      }\n    }\n    if (t === 0) parser.closedRoot = true;\n    parser.tagName = parser.attribValue = parser.attribName = '';\n    parser.attribList.length = 0;\n    parser.state = S.TEXT;\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity;\n    var entityLC = entity.toLowerCase();\n    var num;\n    var numStr = '';\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC;\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2);\n        num = parseInt(entity, 16);\n        numStr = num.toString(16);\n      } else {\n        entity = entity.slice(1);\n        num = parseInt(entity, 10);\n        numStr = num.toString(10);\n      }\n    }\n    entity = entity.replace(/^0+/, '');\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity');\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA;\n      parser.startTagPosition = parser.position;\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.');\n      parser.textNode = c;\n      parser.state = S.TEXT;\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = '';\n    if (i < chunk.length) {\n      result = chunk.charAt(i);\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this;\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString();\n    }\n    var i = 0;\n    var c = '';\n    while (true) {\n      c = charAt(chunk, i++);\n      parser.c = c;\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++;\n        if (c === '\\n') {\n          parser.line++;\n          parser.column = 0;\n        } else {\n          parser.column++;\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE;\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c);\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c);\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1;\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++);\n              if (c && parser.trackPosition) {\n                parser.position++;\n                if (c === '\\n') {\n                  parser.line++;\n                  parser.column = 0;\n                } else {\n                  parser.column++;\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1);\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA;\n            parser.startTagPosition = parser.position;\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.');\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY;\n            } else {\n              parser.textNode += c;\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING;\n          } else {\n            parser.script += c;\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG;\n          } else {\n            parser.script += '<' + c;\n            parser.state = S.SCRIPT;\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL;\n            parser.sgmlDecl = '';\n          } else if (isWhitespace(c)) ; else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG;\n            parser.tagName = c;\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG;\n            parser.tagName = '';\n          } else if (c === '?') {\n            parser.state = S.PROC_INST;\n            parser.procInstName = parser.procInstBody = '';\n          } else {\n            strictFail(parser, 'Unencoded <');\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition;\n              c = new Array(pad).join(' ') + c;\n            }\n            parser.textNode += '<' + c;\n            parser.state = S.TEXT;\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata');\n            parser.state = S.CDATA;\n            parser.sgmlDecl = '';\n            parser.cdata = '';\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT;\n            parser.comment = '';\n            parser.sgmlDecl = '';\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE;\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration');\n            }\n            parser.doctype = '';\n            parser.sgmlDecl = '';\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl);\n            parser.sgmlDecl = '';\n            parser.state = S.TEXT;\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED;\n            parser.sgmlDecl += c;\n          } else {\n            parser.sgmlDecl += c;\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL;\n            parser.q = '';\n          }\n          parser.sgmlDecl += c;\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT;\n            emitNode(parser, 'ondoctype', parser.doctype);\n            parser.doctype = true; // just remember that we saw it.\n          } else {\n            parser.doctype += c;\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD;\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED;\n              parser.q = c;\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c;\n          if (c === parser.q) {\n            parser.q = '';\n            parser.state = S.DOCTYPE;\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c;\n          if (c === ']') {\n            parser.state = S.DOCTYPE;\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED;\n            parser.q = c;\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c;\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD;\n            parser.q = '';\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING;\n          } else {\n            parser.comment += c;\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED;\n            parser.comment = textopts(parser.opt, parser.comment);\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment);\n            }\n            parser.comment = '';\n          } else {\n            parser.comment += '-' + c;\n            parser.state = S.COMMENT;\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment');\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c;\n            parser.state = S.COMMENT;\n          } else {\n            parser.state = S.TEXT;\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING;\n          } else {\n            parser.cdata += c;\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2;\n          } else {\n            parser.cdata += ']' + c;\n            parser.state = S.CDATA;\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata);\n            }\n            emitNode(parser, 'onclosecdata');\n            parser.cdata = '';\n            parser.state = S.TEXT;\n          } else if (c === ']') {\n            parser.cdata += ']';\n          } else {\n            parser.cdata += ']]' + c;\n            parser.state = S.CDATA;\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING;\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY;\n          } else {\n            parser.procInstName += c;\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING;\n          } else {\n            parser.procInstBody += c;\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            });\n            parser.procInstName = parser.procInstBody = '';\n            parser.state = S.TEXT;\n          } else {\n            parser.procInstBody += '?' + c;\n            parser.state = S.PROC_INST_BODY;\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c;\n          } else {\n            newTag(parser);\n            if (c === '>') {\n              openTag(parser);\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH;\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name');\n              }\n              parser.state = S.ATTRIB;\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true);\n            closeTag(parser);\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >');\n            parser.state = S.ATTRIB;\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser);\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH;\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c;\n            parser.attribValue = '';\n            parser.state = S.ATTRIB_NAME;\n          } else {\n            strictFail(parser, 'Invalid attribute name');\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE;\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value');\n            parser.attribValue = parser.attribName;\n            attrib(parser);\n            openTag(parser);\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE;\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c;\n          } else {\n            strictFail(parser, 'Invalid attribute name');\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE;\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value');\n            parser.tag.attributes[parser.attribName] = '';\n            parser.attribValue = '';\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            });\n            parser.attribName = '';\n            if (c === '>') {\n              openTag(parser);\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c;\n              parser.state = S.ATTRIB_NAME;\n            } else {\n              strictFail(parser, 'Invalid attribute name');\n              parser.state = S.ATTRIB;\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c;\n            parser.state = S.ATTRIB_VALUE_QUOTED;\n          } else {\n            strictFail(parser, 'Unquoted attribute value');\n            parser.state = S.ATTRIB_VALUE_UNQUOTED;\n            parser.attribValue = c;\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q;\n            } else {\n              parser.attribValue += c;\n            }\n            continue\n          }\n          attrib(parser);\n          parser.q = '';\n          parser.state = S.ATTRIB_VALUE_CLOSED;\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB;\n          } else if (c === '>') {\n            openTag(parser);\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH;\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes');\n            parser.attribName = c;\n            parser.attribValue = '';\n            parser.state = S.ATTRIB_NAME;\n          } else {\n            strictFail(parser, 'Invalid attribute name');\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U;\n            } else {\n              parser.attribValue += c;\n            }\n            continue\n          }\n          attrib(parser);\n          if (c === '>') {\n            openTag(parser);\n          } else {\n            parser.state = S.ATTRIB;\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c;\n                parser.state = S.SCRIPT;\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.');\n              }\n            } else {\n              parser.tagName = c;\n            }\n          } else if (c === '>') {\n            closeTag(parser);\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c;\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName;\n            parser.tagName = '';\n            parser.state = S.SCRIPT;\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag');\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE;\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser);\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag');\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState;\n          var buffer;\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT;\n              buffer = 'textNode';\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED;\n              buffer = 'attribValue';\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED;\n              buffer = 'attribValue';\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser);\n            parser.entity = '';\n            parser.state = returnState;\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c;\n          } else {\n            strictFail(parser, 'Invalid character in entity name');\n            parser[buffer] += '&' + parser.entity + c;\n            parser.entity = '';\n            parser.state = returnState;\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser);\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode;\n      var floor = Math.floor;\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000;\n        var codeUnits = [];\n        var highSurrogate;\n        var lowSurrogate;\n        var index = -1;\n        var length = arguments.length;\n        if (!length) {\n          return ''\n        }\n        var result = '';\n        while (++index < length) {\n          var codePoint = Number(arguments[index]);\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint);\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000;\n            highSurrogate = (codePoint >> 10) + 0xD800;\n            lowSurrogate = (codePoint % 0x400) + 0xDC00;\n            codeUnits.push(highSurrogate, lowSurrogate);\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits);\n            codeUnits.length = 0;\n          }\n        }\n        return result\n      };\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        String.fromCodePoint = fromCodePoint;\n      }\n    }());\n  }\n})( exports);\n});\n\nvar arrayHelper = {\r\n\r\n  isArray: function(value) {\r\n    if (Array.isArray) {\r\n      return Array.isArray(value);\r\n    }\r\n    // fallback for older browsers like  IE 8\r\n    return Object.prototype.toString.call( value ) === '[object Array]';\r\n  }\r\n\r\n};\n\nvar isArray = arrayHelper.isArray;\r\n\r\nvar optionsHelper = {\r\n\r\n  copyOptions: function (options) {\r\n    var key, copy = {};\r\n    for (key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        copy[key] = options[key];\r\n      }\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  ensureFlagExists: function (item, options) {\r\n    if (!(item in options) || typeof options[item] !== 'boolean') {\r\n      options[item] = false;\r\n    }\r\n  },\r\n\r\n  ensureSpacesExists: function (options) {\r\n    if (!('spaces' in options) || (typeof options.spaces !== 'number' && typeof options.spaces !== 'string')) {\r\n      options.spaces = 0;\r\n    }\r\n  },\r\n\r\n  ensureAlwaysArrayExists: function (options) {\r\n    if (!('alwaysArray' in options) || (typeof options.alwaysArray !== 'boolean' && !isArray(options.alwaysArray))) {\r\n      options.alwaysArray = false;\r\n    }\r\n  },\r\n\r\n  ensureKeyExists: function (key, options) {\r\n    if (!(key + 'Key' in options) || typeof options[key + 'Key'] !== 'string') {\r\n      options[key + 'Key'] = options.compact ? '_' + key : key;\r\n    }\r\n  },\r\n\r\n  checkFnExists: function (key, options) {\r\n    return key + 'Fn' in options;\r\n  }\r\n\r\n};\n\nvar isArray$1 = arrayHelper.isArray;\r\n\r\nvar options;\r\nvar currentElement;\r\n\r\nfunction validateOptions(userOptions) {\r\n  options = optionsHelper.copyOptions(userOptions);\r\n  optionsHelper.ensureFlagExists('ignoreDeclaration', options);\r\n  optionsHelper.ensureFlagExists('ignoreInstruction', options);\r\n  optionsHelper.ensureFlagExists('ignoreAttributes', options);\r\n  optionsHelper.ensureFlagExists('ignoreText', options);\r\n  optionsHelper.ensureFlagExists('ignoreComment', options);\r\n  optionsHelper.ensureFlagExists('ignoreCdata', options);\r\n  optionsHelper.ensureFlagExists('ignoreDoctype', options);\r\n  optionsHelper.ensureFlagExists('compact', options);\r\n  optionsHelper.ensureFlagExists('alwaysChildren', options);\r\n  optionsHelper.ensureFlagExists('addParent', options);\r\n  optionsHelper.ensureFlagExists('trim', options);\r\n  optionsHelper.ensureFlagExists('nativeType', options);\r\n  optionsHelper.ensureFlagExists('nativeTypeAttributes', options);\r\n  optionsHelper.ensureFlagExists('sanitize', options);\r\n  optionsHelper.ensureFlagExists('instructionHasAttributes', options);\r\n  optionsHelper.ensureFlagExists('captureSpacesBetweenElements', options);\r\n  optionsHelper.ensureAlwaysArrayExists(options);\r\n  optionsHelper.ensureKeyExists('declaration', options);\r\n  optionsHelper.ensureKeyExists('instruction', options);\r\n  optionsHelper.ensureKeyExists('attributes', options);\r\n  optionsHelper.ensureKeyExists('text', options);\r\n  optionsHelper.ensureKeyExists('comment', options);\r\n  optionsHelper.ensureKeyExists('cdata', options);\r\n  optionsHelper.ensureKeyExists('doctype', options);\r\n  optionsHelper.ensureKeyExists('type', options);\r\n  optionsHelper.ensureKeyExists('name', options);\r\n  optionsHelper.ensureKeyExists('elements', options);\r\n  optionsHelper.ensureKeyExists('parent', options);\r\n  optionsHelper.checkFnExists('doctype', options);\r\n  optionsHelper.checkFnExists('instruction', options);\r\n  optionsHelper.checkFnExists('cdata', options);\r\n  optionsHelper.checkFnExists('comment', options);\r\n  optionsHelper.checkFnExists('text', options);\r\n  optionsHelper.checkFnExists('instructionName', options);\r\n  optionsHelper.checkFnExists('elementName', options);\r\n  optionsHelper.checkFnExists('attributeName', options);\r\n  optionsHelper.checkFnExists('attributeValue', options);\r\n  optionsHelper.checkFnExists('attributes', options);\r\n  return options;\r\n}\r\n\r\nfunction nativeType(value) {\r\n  var nValue = Number(value);\r\n  if (!isNaN(nValue)) {\r\n    return nValue;\r\n  }\r\n  var bValue = value.toLowerCase();\r\n  if (bValue === 'true') {\r\n    return true;\r\n  } else if (bValue === 'false') {\r\n    return false;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction addField(type, value) {\r\n  var key;\r\n  if (options.compact) {\r\n    if (\r\n      !currentElement[options[type + 'Key']] &&\r\n      (isArray$1(options.alwaysArray) ? options.alwaysArray.indexOf(options[type + 'Key']) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[options[type + 'Key']] = [];\r\n    }\r\n    if (currentElement[options[type + 'Key']] && !isArray$1(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']] = [currentElement[options[type + 'Key']]];\r\n    }\r\n    if (type + 'Fn' in options && typeof value === 'string') {\r\n      value = options[type + 'Fn'](value, currentElement);\r\n    }\r\n    if (type === 'instruction' && ('instructionFn' in options || 'instructionNameFn' in options)) {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          if ('instructionFn' in options) {\r\n            value[key] = options.instructionFn(value[key], key, currentElement);\r\n          } else {\r\n            var temp = value[key];\r\n            delete value[key];\r\n            value[options.instructionNameFn(key, temp, currentElement)] = temp;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (isArray$1(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']].push(value);\r\n    } else {\r\n      currentElement[options[type + 'Key']] = value;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    var element = {};\r\n    element[options.typeKey] = type;\r\n    if (type === 'instruction') {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          break;\r\n        }\r\n      }\r\n      element[options.nameKey] = 'instructionNameFn' in options ? options.instructionNameFn(key, value, currentElement) : key;\r\n      if (options.instructionHasAttributes) {\r\n        element[options.attributesKey] = value[key][options.attributesKey];\r\n        if ('instructionFn' in options) {\r\n          element[options.attributesKey] = options.instructionFn(element[options.attributesKey], key, currentElement);\r\n        }\r\n      } else {\r\n        if ('instructionFn' in options) {\r\n          value[key] = options.instructionFn(value[key], key, currentElement);\r\n        }\r\n        element[options.instructionKey] = value[key];\r\n      }\r\n    } else {\r\n      if (type + 'Fn' in options) {\r\n        value = options[type + 'Fn'](value, currentElement);\r\n      }\r\n      element[options[type + 'Key']] = value;\r\n    }\r\n    if (options.addParent) {\r\n      element[options.parentKey] = currentElement;\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n}\r\n\r\nfunction manipulateAttributes(attributes) {\r\n  if ('attributesFn' in options && attributes) {\r\n    attributes = options.attributesFn(attributes, currentElement);\r\n  }\r\n  if ((options.trim || 'attributeValueFn' in options || 'attributeNameFn' in options || options.nativeTypeAttributes) && attributes) {\r\n    var key;\r\n    for (key in attributes) {\r\n      if (attributes.hasOwnProperty(key)) {\r\n        if (options.trim) attributes[key] = attributes[key].trim();\r\n        if (options.nativeTypeAttributes) {\r\n          attributes[key] = nativeType(attributes[key]);\r\n        }\r\n        if ('attributeValueFn' in options) attributes[key] = options.attributeValueFn(attributes[key], key, currentElement);\r\n        if ('attributeNameFn' in options) {\r\n          var temp = attributes[key];\r\n          delete attributes[key];\r\n          attributes[options.attributeNameFn(key, attributes[key], currentElement)] = temp;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return attributes;\r\n}\r\n\r\nfunction onInstruction(instruction) {\r\n  var attributes = {};\r\n  if (instruction.body && (instruction.name.toLowerCase() === 'xml' || options.instructionHasAttributes)) {\r\n    var attrsRegExp = /([\\w:-]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|(\\w+))\\s*/g;\r\n    var match;\r\n    while ((match = attrsRegExp.exec(instruction.body)) !== null) {\r\n      attributes[match[1]] = match[2] || match[3] || match[4];\r\n    }\r\n    attributes = manipulateAttributes(attributes);\r\n  }\r\n  if (instruction.name.toLowerCase() === 'xml') {\r\n    if (options.ignoreDeclaration) {\r\n      return;\r\n    }\r\n    currentElement[options.declarationKey] = {};\r\n    if (Object.keys(attributes).length) {\r\n      currentElement[options.declarationKey][options.attributesKey] = attributes;\r\n    }\r\n    if (options.addParent) {\r\n      currentElement[options.declarationKey][options.parentKey] = currentElement;\r\n    }\r\n  } else {\r\n    if (options.ignoreInstruction) {\r\n      return;\r\n    }\r\n    if (options.trim) {\r\n      instruction.body = instruction.body.trim();\r\n    }\r\n    var value = {};\r\n    if (options.instructionHasAttributes && Object.keys(attributes).length) {\r\n      value[instruction.name] = {};\r\n      value[instruction.name][options.attributesKey] = attributes;\r\n    } else {\r\n      value[instruction.name] = instruction.body;\r\n    }\r\n    addField('instruction', value);\r\n  }\r\n}\r\n\r\nfunction onStartElement(name, attributes) {\r\n  var element;\r\n  if (typeof name === 'object') {\r\n    attributes = name.attributes;\r\n    name = name.name;\r\n  }\r\n  attributes = manipulateAttributes(attributes);\r\n  if ('elementNameFn' in options) {\r\n    name = options.elementNameFn(name, currentElement);\r\n  }\r\n  if (options.compact) {\r\n    element = {};\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = {};\r\n      var key;\r\n      for (key in attributes) {\r\n        if (attributes.hasOwnProperty(key)) {\r\n          element[options.attributesKey][key] = attributes[key];\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      !(name in currentElement) &&\r\n      (isArray$1(options.alwaysArray) ? options.alwaysArray.indexOf(name) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[name] = [];\r\n    }\r\n    if (currentElement[name] && !isArray$1(currentElement[name])) {\r\n      currentElement[name] = [currentElement[name]];\r\n    }\r\n    if (isArray$1(currentElement[name])) {\r\n      currentElement[name].push(element);\r\n    } else {\r\n      currentElement[name] = element;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    element = {};\r\n    element[options.typeKey] = 'element';\r\n    element[options.nameKey] = name;\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = attributes;\r\n    }\r\n    if (options.alwaysChildren) {\r\n      element[options.elementsKey] = [];\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n  element[options.parentKey] = currentElement; // will be deleted in onEndElement() if !options.addParent\r\n  currentElement = element;\r\n}\r\n\r\nfunction onText(text) {\r\n  if (options.ignoreText) {\r\n    return;\r\n  }\r\n  if (!text.trim() && !options.captureSpacesBetweenElements) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    text = text.trim();\r\n  }\r\n  if (options.nativeType) {\r\n    text = nativeType(text);\r\n  }\r\n  if (options.sanitize) {\r\n    text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n  }\r\n  addField('text', text);\r\n}\r\n\r\nfunction onComment(comment) {\r\n  if (options.ignoreComment) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    comment = comment.trim();\r\n  }\r\n  addField('comment', comment);\r\n}\r\n\r\nfunction onEndElement(name) {\r\n  var parentElement = currentElement[options.parentKey];\r\n  if (!options.addParent) {\r\n    delete currentElement[options.parentKey];\r\n  }\r\n  currentElement = parentElement;\r\n}\r\n\r\nfunction onCdata(cdata) {\r\n  if (options.ignoreCdata) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    cdata = cdata.trim();\r\n  }\r\n  addField('cdata', cdata);\r\n}\r\n\r\nfunction onDoctype(doctype) {\r\n  if (options.ignoreDoctype) {\r\n    return;\r\n  }\r\n  doctype = doctype.replace(/^ /, '');\r\n  if (options.trim) {\r\n    doctype = doctype.trim();\r\n  }\r\n  addField('doctype', doctype);\r\n}\r\n\r\nfunction onError(error) {\r\n  error.note = error; //console.error(error);\r\n}\r\n\r\nvar xml2js = function (xml, userOptions) {\r\n\r\n  var parser =  sax.parser(true, {}) ;\r\n  var result = {};\r\n  currentElement = result;\r\n\r\n  options = validateOptions(userOptions);\r\n\r\n  {\r\n    parser.opt = {strictEntities: true};\r\n    parser.onopentag = onStartElement;\r\n    parser.ontext = onText;\r\n    parser.oncomment = onComment;\r\n    parser.onclosetag = onEndElement;\r\n    parser.onerror = onError;\r\n    parser.oncdata = onCdata;\r\n    parser.ondoctype = onDoctype;\r\n    parser.onprocessinginstruction = onInstruction;\r\n  }\r\n\r\n  {\r\n    parser.write(xml).close();\r\n  }\r\n\r\n  if (result[options.elementsKey]) {\r\n    var temp = result[options.elementsKey];\r\n    delete result[options.elementsKey];\r\n    result[options.elementsKey] = temp;\r\n    delete result.text;\r\n  }\r\n\r\n  return result;\r\n\r\n};\n\nfunction validateOptions$1 (userOptions) {\r\n  var options = optionsHelper.copyOptions(userOptions);\r\n  optionsHelper.ensureSpacesExists(options);\r\n  return options;\r\n}\r\n\r\nvar xml2json = function(xml, userOptions) {\r\n  var options, js, json, parentKey;\r\n  options = validateOptions$1(userOptions);\r\n  js = xml2js(xml, options);\r\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent';\r\n  // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\r\n  if ('addParent' in options && options.addParent) {\r\n    json = JSON.stringify(js, function (k, v) { return k === parentKey? '_' : v; }, options.spaces);\r\n  } else {\r\n    json = JSON.stringify(js, null, options.spaces);\r\n  }\r\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\r\n};\n\nvar isArray$2 = arrayHelper.isArray;\n\nvar currentElement$1, currentElementName;\n\nfunction validateOptions$2(userOptions) {\n  var options = optionsHelper.copyOptions(userOptions);\n  optionsHelper.ensureFlagExists('ignoreDeclaration', options);\n  optionsHelper.ensureFlagExists('ignoreInstruction', options);\n  optionsHelper.ensureFlagExists('ignoreAttributes', options);\n  optionsHelper.ensureFlagExists('ignoreText', options);\n  optionsHelper.ensureFlagExists('ignoreComment', options);\n  optionsHelper.ensureFlagExists('ignoreCdata', options);\n  optionsHelper.ensureFlagExists('ignoreDoctype', options);\n  optionsHelper.ensureFlagExists('compact', options);\n  optionsHelper.ensureFlagExists('indentText', options);\n  optionsHelper.ensureFlagExists('indentCdata', options);\n  optionsHelper.ensureFlagExists('indentAttributes', options);\n  optionsHelper.ensureFlagExists('indentInstruction', options);\n  optionsHelper.ensureFlagExists('fullTagEmptyElement', options);\n  optionsHelper.ensureFlagExists('noQuotesForNativeAttributes', options);\n  optionsHelper.ensureSpacesExists(options);\n  if (typeof options.spaces === 'number') {\n    options.spaces = Array(options.spaces + 1).join(' ');\n  }\n  optionsHelper.ensureKeyExists('declaration', options);\n  optionsHelper.ensureKeyExists('instruction', options);\n  optionsHelper.ensureKeyExists('attributes', options);\n  optionsHelper.ensureKeyExists('text', options);\n  optionsHelper.ensureKeyExists('comment', options);\n  optionsHelper.ensureKeyExists('cdata', options);\n  optionsHelper.ensureKeyExists('doctype', options);\n  optionsHelper.ensureKeyExists('type', options);\n  optionsHelper.ensureKeyExists('name', options);\n  optionsHelper.ensureKeyExists('elements', options);\n  optionsHelper.checkFnExists('doctype', options);\n  optionsHelper.checkFnExists('instruction', options);\n  optionsHelper.checkFnExists('cdata', options);\n  optionsHelper.checkFnExists('comment', options);\n  optionsHelper.checkFnExists('text', options);\n  optionsHelper.checkFnExists('instructionName', options);\n  optionsHelper.checkFnExists('elementName', options);\n  optionsHelper.checkFnExists('attributeName', options);\n  optionsHelper.checkFnExists('attributeValue', options);\n  optionsHelper.checkFnExists('attributes', options);\n  optionsHelper.checkFnExists('fullTagEmptyElement', options);\n  return options;\n}\n\nfunction writeIndentation(options, depth, firstLine) {\n  return (!firstLine && options.spaces ? '\\n' : '') + Array(depth + 1).join(options.spaces);\n}\n\nfunction writeAttributes(attributes, options, depth) {\n  if (options.ignoreAttributes) {\n    return '';\n  }\n  if ('attributesFn' in options) {\n    attributes = options.attributesFn(attributes, currentElementName, currentElement$1);\n  }\n  var key, attr, attrName, quote, result = [];\n  for (key in attributes) {\n    if (attributes.hasOwnProperty(key) && attributes[key] !== null && attributes[key] !== undefined) {\n      quote = options.noQuotesForNativeAttributes && typeof attributes[key] !== 'string' ? '' : '\"';\n      attr = '' + attributes[key]; // ensure number and boolean are converted to String\n      attr = attr.replace(/\"/g, '&quot;');\n      attrName = 'attributeNameFn' in options ? options.attributeNameFn(key, attr, currentElementName, currentElement$1) : key;\n      result.push((options.spaces && options.indentAttributes? writeIndentation(options, depth+1, false) : ' '));\n      result.push(attrName + '=' + quote + ('attributeValueFn' in options ? options.attributeValueFn(attr, key, currentElementName, currentElement$1) : attr) + quote);\n    }\n  }\n  if (attributes && Object.keys(attributes).length && options.spaces && options.indentAttributes) {\n    result.push(writeIndentation(options, depth, false));\n  }\n  return result.join('');\n}\n\nfunction writeDeclaration(declaration, options, depth) {\n  currentElement$1 = declaration;\n  currentElementName = 'xml';\n  return options.ignoreDeclaration ? '' :  '<?' + 'xml' + writeAttributes(declaration[options.attributesKey], options, depth) + '?>';\n}\n\nfunction writeInstruction(instruction, options, depth) {\n  if (options.ignoreInstruction) {\n    return '';\n  }\n  var key;\n  for (key in instruction) {\n    if (instruction.hasOwnProperty(key)) {\n      break;\n    }\n  }\n  var instructionName = 'instructionNameFn' in options ? options.instructionNameFn(key, instruction[key], currentElementName, currentElement$1) : key;\n  if (typeof instruction[key] === 'object') {\n    currentElement$1 = instruction;\n    currentElementName = instructionName;\n    return '<?' + instructionName + writeAttributes(instruction[key][options.attributesKey], options, depth) + '?>';\n  } else {\n    var instructionValue = instruction[key] ? instruction[key] : '';\n    if ('instructionFn' in options) instructionValue = options.instructionFn(instructionValue, key, currentElementName, currentElement$1);\n    return '<?' + instructionName + (instructionValue ? ' ' + instructionValue : '') + '?>';\n  }\n}\n\nfunction writeComment(comment, options) {\n  return options.ignoreComment ? '' : '<!--' + ('commentFn' in options ? options.commentFn(comment, currentElementName, currentElement$1) : comment) + '-->';\n}\n\nfunction writeCdata(cdata, options) {\n  return options.ignoreCdata ? '' : '<![CDATA[' + ('cdataFn' in options ? options.cdataFn(cdata, currentElementName, currentElement$1) : cdata.replace(']]>', ']]]]><![CDATA[>')) + ']]>';\n}\n\nfunction writeDoctype(doctype, options) {\n  return options.ignoreDoctype ? '' : '<!DOCTYPE ' + ('doctypeFn' in options ? options.doctypeFn(doctype, currentElementName, currentElement$1) : doctype) + '>';\n}\n\nfunction writeText(text, options) {\n  if (options.ignoreText) return '';\n  text = '' + text; // ensure Number and Boolean are converted to String\n  text = text.replace(/&amp;/g, '&'); // desanitize to avoid double sanitization\n  text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  return 'textFn' in options ? options.textFn(text, currentElementName, currentElement$1) : text;\n}\n\nfunction hasContent(element, options) {\n  var i;\n  if (element.elements && element.elements.length) {\n    for (i = 0; i < element.elements.length; ++i) {\n      switch (element.elements[i][options.typeKey]) {\n      case 'text':\n        if (options.indentText) {\n          return true;\n        }\n        break; // skip to next key\n      case 'cdata':\n        if (options.indentCdata) {\n          return true;\n        }\n        break; // skip to next key\n      case 'instruction':\n        if (options.indentInstruction) {\n          return true;\n        }\n        break; // skip to next key\n      case 'doctype':\n      case 'comment':\n      case 'element':\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElement(element, options, depth) {\n  currentElement$1 = element;\n  currentElementName = element.name;\n  var xml = [], elementName = 'elementNameFn' in options ? options.elementNameFn(element.name, element) : element.name;\n  xml.push('<' + elementName);\n  if (element[options.attributesKey]) {\n    xml.push(writeAttributes(element[options.attributesKey], options, depth));\n  }\n  var withClosingTag = element[options.elementsKey] && element[options.elementsKey].length || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n  if (!withClosingTag) {\n    if ('fullTagEmptyElementFn' in options) {\n      withClosingTag = options.fullTagEmptyElementFn(element.name, element);\n    } else {\n      withClosingTag = options.fullTagEmptyElement;\n    }\n  }\n  if (withClosingTag) {\n    xml.push('>');\n    if (element[options.elementsKey] && element[options.elementsKey].length) {\n      xml.push(writeElements(element[options.elementsKey], options, depth + 1));\n      currentElement$1 = element;\n      currentElementName = element.name;\n    }\n    xml.push(options.spaces && hasContent(element, options) ? '\\n' + Array(depth + 1).join(options.spaces) : '');\n    xml.push('</' + elementName + '>');\n  } else {\n    xml.push('/>');\n  }\n  return xml.join('');\n}\n\nfunction writeElements(elements, options, depth, firstLine) {\n  return elements.reduce(function (xml, element) {\n    var indent = writeIndentation(options, depth, firstLine && !xml);\n    switch (element.type) {\n    case 'element': return xml + indent + writeElement(element, options, depth);\n    case 'comment': return xml + indent + writeComment(element[options.commentKey], options);\n    case 'doctype': return xml + indent + writeDoctype(element[options.doctypeKey], options);\n    case 'cdata': return xml + (options.indentCdata ? indent : '') + writeCdata(element[options.cdataKey], options);\n    case 'text': return xml + (options.indentText ? indent : '') + writeText(element[options.textKey], options);\n    case 'instruction':\n      var instruction = {};\n      instruction[element[options.nameKey]] = element[options.attributesKey] ? element : element[options.instructionKey];\n      return xml + (options.indentInstruction ? indent : '') + writeInstruction(instruction, options, depth);\n    }\n  }, '');\n}\n\nfunction hasContentCompact(element, options, anyContent) {\n  var key;\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      switch (key) {\n      case options.parentKey:\n      case options.attributesKey:\n        break; // skip to next key\n      case options.textKey:\n        if (options.indentText || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.cdataKey:\n        if (options.indentCdata || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.instructionKey:\n        if (options.indentInstruction || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.doctypeKey:\n      case options.commentKey:\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElementCompact(element, name, options, depth, indent) {\n  currentElement$1 = element;\n  currentElementName = name;\n  var elementName = 'elementNameFn' in options ? options.elementNameFn(name, element) : name;\n  if (typeof element === 'undefined' || element === null || element === '') {\n    return 'fullTagEmptyElementFn' in options && options.fullTagEmptyElementFn(name, element) || options.fullTagEmptyElement ? '<' + elementName + '></' + elementName + '>' : '<' + elementName + '/>';\n  }\n  var xml = [];\n  if (name) {\n    xml.push('<' + elementName);\n    if (typeof element !== 'object') {\n      xml.push('>' + writeText(element,options) + '</' + elementName + '>');\n      return xml.join('');\n    }\n    if (element[options.attributesKey]) {\n      xml.push(writeAttributes(element[options.attributesKey], options, depth));\n    }\n    var withClosingTag = hasContentCompact(element, options, true) || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n    if (!withClosingTag) {\n      if ('fullTagEmptyElementFn' in options) {\n        withClosingTag = options.fullTagEmptyElementFn(name, element);\n      } else {\n        withClosingTag = options.fullTagEmptyElement;\n      }\n    }\n    if (withClosingTag) {\n      xml.push('>');\n    } else {\n      xml.push('/>');\n      return xml.join('');\n    }\n  }\n  xml.push(writeElementsCompact(element, options, depth + 1, false));\n  currentElement$1 = element;\n  currentElementName = name;\n  if (name) {\n    xml.push((indent ? writeIndentation(options, depth, false) : '') + '</' + elementName + '>');\n  }\n  return xml.join('');\n}\n\nfunction writeElementsCompact(element, options, depth, firstLine) {\n  var i, key, nodes, xml = [];\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      nodes = isArray$2(element[key]) ? element[key] : [element[key]];\n      for (i = 0; i < nodes.length; ++i) {\n        switch (key) {\n        case options.declarationKey: xml.push(writeDeclaration(nodes[i], options, depth)); break;\n        case options.instructionKey: xml.push((options.indentInstruction ? writeIndentation(options, depth, firstLine) : '') + writeInstruction(nodes[i], options, depth)); break;\n        case options.attributesKey: case options.parentKey: break; // skip\n        case options.textKey: xml.push((options.indentText ? writeIndentation(options, depth, firstLine) : '') + writeText(nodes[i], options)); break;\n        case options.cdataKey: xml.push((options.indentCdata ? writeIndentation(options, depth, firstLine) : '') + writeCdata(nodes[i], options)); break;\n        case options.doctypeKey: xml.push(writeIndentation(options, depth, firstLine) + writeDoctype(nodes[i], options)); break;\n        case options.commentKey: xml.push(writeIndentation(options, depth, firstLine) + writeComment(nodes[i], options)); break;\n        default: xml.push(writeIndentation(options, depth, firstLine) + writeElementCompact(nodes[i], key, options, depth, hasContentCompact(nodes[i], options)));\n        }\n        firstLine = firstLine && !xml.length;\n      }\n    }\n  }\n  return xml.join('');\n}\n\nvar js2xml = function (js, options) {\n  options = validateOptions$2(options);\n  var xml = [];\n  currentElement$1 = js;\n  currentElementName = '_root_';\n  if (options.compact) {\n    xml.push(writeElementsCompact(js, options, 0, true));\n  } else {\n    if (js[options.declarationKey]) {\n      xml.push(writeDeclaration(js[options.declarationKey], options, 0));\n    }\n    if (js[options.elementsKey] && js[options.elementsKey].length) {\n      xml.push(writeElements(js[options.elementsKey], options, 0, !xml.length));\n    }\n  }\n  return xml.join('');\n};\n\nvar json2xml = function (json, options) {\r\n  if (json instanceof Buffer) {\r\n    json = json.toString();\r\n  }\r\n  var js = null;\r\n  if (typeof (json) === 'string') {\r\n    try {\r\n      js = JSON.parse(json);\r\n    } catch (e) {\r\n      throw new Error('The JSON structure is invalid');\r\n    }\r\n  } else {\r\n    js = json;\r\n  }\r\n  return js2xml(js, options);\r\n};\n\n/*jslint node:true */\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar lib = {\r\n  xml2js: xml2js,\r\n  xml2json: xml2json,\r\n  js2xml: js2xml,\r\n  json2xml: json2xml\r\n};\n\nvar ElementTypes = {\n  Standalone: 'Standalone',\n  GenericSpan: 'GenericSpan',\n  GenericSpanStart: 'GenericSpanStart',\n  GenericSpanEnd: 'GenericSpanEnd',\n  Span: 'Span',\n  SpanStart: 'SpanStart',\n  SpanEnd: 'SpanEnd',\n  Marker: 'Marker'\n};\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction makeInlineElement(type, attributes, contents) {\n  var contentsObj = contents !== undefined ? {\n    contents: contents\n  } : {};\n  var dataObj = Object.assign({}, attributes, contentsObj);\n  return _defineProperty({}, type, dataObj);\n}\n\nvar _elementTypeToTagMap, _factories;\n\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ElementTypes2 = {\n  elementTypeToTagMap: (_elementTypeToTagMap = {}, _defineProperty$1(_elementTypeToTagMap, ElementTypes.Standalone, 'ph'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.GenericSpan, 'pc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.GenericSpanStart, 'sc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.GenericSpanEnd, 'ec'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.Span, 'pc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.SpanStart, 'sc'), _defineProperty$1(_elementTypeToTagMap, ElementTypes.SpanEnd, 'ec'), _elementTypeToTagMap),\n  tagToElementTypeMap: {\n    ph: ElementTypes.Standalone,\n    pc: ElementTypes.Span,\n    sc: ElementTypes.SpanStart,\n    ec: ElementTypes.SpanEnd\n  },\n  factories: (_factories = {}, _defineProperty$1(_factories, ElementTypes.Standalone, function (attributes) {\n    return makeInlineElement(ElementTypes.Standalone, attributes);\n  }), _defineProperty$1(_factories, ElementTypes.GenericSpan, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.GenericSpan, attributes, contents);\n  }), _defineProperty$1(_factories, ElementTypes.GenericSpanStart, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanStart, attributes);\n  }), _defineProperty$1(_factories, ElementTypes.GenericSpanEnd, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanEnd, attributes);\n  }), _defineProperty$1(_factories, ElementTypes.Span, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.Span, attributes, contents);\n  }), _defineProperty$1(_factories, ElementTypes.SpanStart, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanStart, attributes, contents);\n  }), _defineProperty$1(_factories, ElementTypes.SpanEnd, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanEnd, attributes, contents);\n  }), _factories)\n};\n\nfunction elementTypeToTag(type, types) {\n  return types.elementTypeToTagMap[type];\n}\nfunction tagToElementType(tagName, types) {\n  return types.tagToElementTypeMap[tagName];\n}\n\nfunction extractValue(valueElements, elementTypeInfo) {\n  if (valueElements === undefined || valueElements === null || valueElements === '') {\n    return '';\n  }\n\n  if (Array.isArray(valueElements) && valueElements.length > 1) {\n    return valueElements.map(function (valueElement) {\n      return extractValue(valueElement, elementTypeInfo);\n    });\n  }\n\n  var valueElement = Array.isArray(valueElements) ? valueElements[0] || '' : valueElements;\n\n  if (valueElement.type === 'text') {\n    if (/\\n\\s*$/.test(valueElement.text)) {\n      return valueElement.text.substr(0, valueElement.text.lastIndexOf('\\n'));\n    }\n\n    return valueElement.text;\n  }\n\n  var elementType = tagToElementType(valueElement.name, elementTypeInfo);\n\n  if (valueElement.type === 'element' && elementType !== undefined) {\n    var inlineElementFactory = elementTypeInfo.factories[elementType];\n    return inlineElementFactory(valueElement.attributes, extractValue(valueElement.elements, elementTypeInfo));\n  }\n\n  if (valueElement.type === 'cdata') {\n    return valueElement.cdata;\n  }\n\n  return '';\n}\n\nvar xliffToJsClb = function xliffToJsClb(str, options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n\n  options = options || {};\n\n  if (typeof str !== 'string') {\n    var err = new Error('The first parameter was not a string');\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var result = {};\n  var xmlObj;\n\n  try {\n    xmlObj = lib.xml2js(str, {});\n  } catch (err) {\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var xliffRoot = xmlObj.elements.find(function (ele) {\n    return ele.name === 'xliff';\n  });\n\n  if (xliffRoot.attributes) {\n    var srcLang = xliffRoot.attributes.srcLang;\n    var trgLang = xliffRoot.attributes.trgLang;\n    result.sourceLanguage = srcLang;\n    result.targetLanguage = trgLang;\n    if (!result.targetLanguage) delete result.targetLanguage;\n    xliffRoot.elements = xliffRoot.elements.filter(function (child) {\n      return child.type !== 'comment';\n    });\n    result.resources = xliffRoot.elements.reduce(function (resources, file) {\n      var namespace = options.namespace || file.attributes.id;\n      var initValues = {};\n      if (!result.targetLanguage) delete initValues.target;\n      file.elements = file.elements || [];\n      file.elements = file.elements.filter(function (child) {\n        return child.type !== 'comment';\n      });\n      resources[namespace] = createUnits(file, initValues);\n      return resources;\n    }, {});\n  }\n\n  if (cb) return cb(null, result);\n  return result;\n};\n\nfunction createUnits(parent, initValues) {\n  if (!parent.elements) return {};\n  return parent.elements.reduce(function (file, unit) {\n    var key = unit.attributes.id;\n    var additionalAttributes = unit.attributes;\n    delete additionalAttributes.id;\n\n    switch (unit.name) {\n      case 'unit':\n        file[key] = createUnit(unit, initValues);\n\n        if (Object.keys(additionalAttributes).length) {\n          Object.assign(file[key], {\n            additionalAttributes: additionalAttributes\n          });\n        }\n\n        return file;\n\n      case 'group':\n        file[key] = {\n          groupUnits: createUnits(unit, initValues)\n        };\n\n        if (Object.keys(additionalAttributes).length) {\n          Object.assign(file[key], {\n            additionalAttributes: additionalAttributes\n          });\n        }\n\n        return file;\n\n      default:\n        return file;\n    }\n  }, {});\n}\n\nfunction createUnit(unit, initValues) {\n  if (!unit.elements) return undefined;\n  return unit.elements.reduce(function (unit, segment) {\n    if (['segment', 'notes'].indexOf(segment.name) < 0) return unit;\n    segment.elements.forEach(function (element) {\n      var value = extractValue(element.elements, ElementTypes2);\n\n      switch (element.name) {\n        case 'source':\n        case 'target':\n          unit[element.name] = value;\n          break;\n\n        case 'note':\n          if (unit[element.name]) {\n            if (!Array.isArray(unit[element.name])) {\n              unit[element.name] = [unit[element.name]];\n            }\n\n            unit[element.name].push(value);\n          } else {\n            unit[element.name] = value;\n          }\n\n          break;\n      }\n    });\n    return unit;\n  }, JSON.parse(JSON.stringify(initValues)));\n}\n\nfunction xliffToJs(str, options, cb) {\n  if (!cb && options === undefined) {\n    return new Promise(function (resolve, reject) {\n      return xliffToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof options !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return xliffToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  xliffToJsClb(str, options, cb);\n}\n\nvar _elementTypeToTagMap$1, _factories$1;\n\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ElementTypes12 = {\n  elementTypeToTagMap: (_elementTypeToTagMap$1 = {}, _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.Standalone, 'x'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.GenericSpan, 'g'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.GenericSpanStart, 'bx'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.GenericSpanEnd, 'ex'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.Span, 'ph'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.SpanStart, 'bpt'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.SpanEnd, 'ept'), _defineProperty$2(_elementTypeToTagMap$1, ElementTypes.Marker, 'mrk'), _elementTypeToTagMap$1),\n  tagToElementTypeMap: {\n    x: ElementTypes.Standalone,\n    g: ElementTypes.GenericSpan,\n    bx: ElementTypes.GenericSpanStart,\n    ex: ElementTypes.GenericSpanEnd,\n    ph: ElementTypes.Span,\n    bpt: ElementTypes.SpanStart,\n    ept: ElementTypes.SpanEnd,\n    mrk: ElementTypes.Marker\n  },\n  factories: (_factories$1 = {}, _defineProperty$2(_factories$1, ElementTypes.Standalone, function (attributes) {\n    return makeInlineElement(ElementTypes.Standalone, attributes);\n  }), _defineProperty$2(_factories$1, ElementTypes.GenericSpan, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.GenericSpan, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.GenericSpanStart, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanStart, attributes);\n  }), _defineProperty$2(_factories$1, ElementTypes.GenericSpanEnd, function (attributes) {\n    return makeInlineElement(ElementTypes.GenericSpanEnd, attributes);\n  }), _defineProperty$2(_factories$1, ElementTypes.Span, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.Span, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.SpanStart, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanStart, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.SpanEnd, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.SpanEnd, attributes, contents);\n  }), _defineProperty$2(_factories$1, ElementTypes.Marker, function (attributes, contents) {\n    return makeInlineElement(ElementTypes.Marker, attributes, contents);\n  }), _factories$1)\n};\n\nvar xliff12ToJsClb = function xliff12ToJsClb(str, options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n\n  options = options || {};\n\n  if (typeof str !== 'string') {\n    var err = new Error('The first parameter was not a string');\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var result = {};\n  var xmlObj;\n\n  try {\n    xmlObj = lib.xml2js(str, {});\n  } catch (err) {\n    if (cb) return cb(err);\n    return err;\n  }\n\n  var xliffRoot = xmlObj.elements.find(function (ele) {\n    return ele.name === 'xliff';\n  });\n\n  if (xliffRoot.elements && xliffRoot.elements.length) {\n    var srcLang = xliffRoot.elements[0].attributes['source-language'];\n    var trgLang = xliffRoot.elements[0].attributes['target-language'];\n    result.sourceLanguage = srcLang;\n    result.targetLanguage = trgLang;\n    if (!result.targetLanguage) delete result.targetLanguage;\n    result.resources = xliffRoot.elements.reduce(function (resources, file) {\n      var namespace = options.namespace || file.attributes.original;\n      var body = file.elements.find(function (e) {\n        return e.name === 'body';\n      });\n      body.elements = body.elements || [];\n      var bodyChildren = body.elements.filter(function (child) {\n        return child.type !== 'comment';\n      });\n      resources[namespace] = createUnits$1(bodyChildren);\n      return resources;\n    }, {});\n  } else {\n    result.resources = {};\n  }\n\n  if (cb) return cb(null, result);\n  return result;\n};\n\nfunction createUnits$1(childElements) {\n  return childElements.reduce(function (parent, child) {\n    var key = child.attributes.id;\n    if (!child.elements) return parent;\n    var children = child.elements.filter(function (e) {\n      return e.name === 'trans-unit' || e.name === 'group';\n    });\n\n    if (children.length) {\n      parent[key] = createGroupTag(child, children);\n    } else {\n      parent[key] = createTransUnitTag(child);\n    }\n\n    return parent;\n  }, {});\n}\n\nfunction createTransUnitTag(transUnit) {\n  var jsUnit = transUnit.elements.reduce(function (unit, element) {\n    var value = extractValue(element.elements, ElementTypes12);\n\n    switch (element.name) {\n      case 'source':\n      case 'target':\n        unit[element.name] = value;\n        break;\n\n      case 'note':\n        if (unit[element.name]) {\n          if (!Array.isArray(unit[element.name])) {\n            unit[element.name] = [unit[element.name]];\n          }\n\n          unit[element.name].push(value);\n        } else {\n          unit[element.name] = value;\n        }\n\n        break;\n    }\n\n    return unit;\n  }, {});\n  return addAdditionalAttributes(jsUnit, transUnit.attributes);\n}\n\nfunction createGroupTag(groupUnit, children) {\n  var jsGroupUnit = {\n    groupUnits: createUnits$1(children)\n  };\n  return addAdditionalAttributes(jsGroupUnit, groupUnit.attributes);\n}\n\nfunction addAdditionalAttributes(jsUnit, attributes) {\n  var additionalAttributes = attributes;\n  delete additionalAttributes.id;\n\n  if (Object.keys(additionalAttributes).length) {\n    Object.assign(jsUnit, {\n      additionalAttributes: additionalAttributes\n    });\n  }\n\n  return jsUnit;\n}\n\nfunction xliff12ToJs(str, options, cb) {\n  if (!cb && options === undefined) {\n    return new Promise(function (resolve, reject) {\n      return xliff12ToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof options !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return xliff12ToJsClb(str, options, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  xliff12ToJsClb(str, options, cb);\n}\n\nfunction makeElement(name, attributes, elements) {\n  var el = {\n    type: 'element',\n    name: name\n  };\n\n  if (attributes !== null && attributes !== undefined) {\n    el.attributes = attributes;\n  }\n\n  if (Array.isArray(elements)) {\n    el.elements = elements;\n  } else if (elements === true) {\n    el.elements = [];\n  }\n\n  return el;\n}\nfunction makeText(text) {\n  return {\n    type: 'text',\n    text: text\n  };\n}\nfunction makeValue(content, elementTypeInfo) {\n  if (!Array.isArray(content)) {\n    if (typeof content === 'string' || content instanceof String) {\n      return [makeText(content)];\n    }\n\n    var elementType = Object.keys(content)[0];\n    var elementTag = elementTypeToTag(elementType, elementTypeInfo);\n\n    if (elementTag !== undefined) {\n      var attrsSrc = Object.assign({}, content[elementType]);\n      delete attrsSrc.id;\n      delete attrsSrc.contents;\n      var contents = content[elementType].hasOwnProperty('contents') ? makeValue(content[elementType].contents, elementTypeInfo) : undefined;\n      var attrs = {\n        id: content[elementType].id\n      };\n      Object.keys(attrsSrc).forEach(function (attrKey) {\n        attrs[attrKey] = attrsSrc[attrKey];\n      });\n      return [makeElement(elementTag, attrs, contents)];\n    }\n\n    return [makeText(content)];\n  }\n\n  return content.map(function (segment) {\n    if (typeof segment === 'string' || segment instanceof String) {\n      return makeText(segment);\n    }\n\n    var elementType = Object.keys(segment)[0];\n    var elementTag = elementTypeToTag(elementType, elementTypeInfo);\n\n    if (elementTag !== undefined) {\n      var _attrsSrc = Object.assign({}, segment[elementType]);\n\n      delete _attrsSrc.id;\n      delete _attrsSrc.contents;\n\n      var _contents = segment[elementType].hasOwnProperty('contents') ? makeValue(segment[elementType].contents, elementTypeInfo) : undefined;\n\n      var _attrs = {\n        id: segment[elementType].id\n      };\n      Object.keys(_attrsSrc).forEach(function (attrKey) {\n        _attrs[attrKey] = _attrsSrc[attrKey];\n      });\n      return makeElement(elementTag, _attrs, _contents);\n    }\n\n    var segmentString = '{ ' + Object.keys(segment).reduce(function (result, segmentKey) {\n      return result + segmentKey + ': \"' + segment[segmentKey].toString() + '\"';\n    }, '') + ' }';\n    return {\n      type: 'comment',\n      comment: 'Warning: unexpected segment ' + segmentString + ' was ignored'\n    };\n  });\n}\n\nvar map = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&apos;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\nfunction escape (str) {\n  Object.keys(map).forEach(function (char) {\n    str = str.replace(new RegExp(char, 'g'), map[char]);\n  });\n  return str;\n}\n\nvar js2xliffClb = function js2xliffClb(obj, opt, cb) {\n  if (!cb && typeof opt === 'function') {\n    cb = opt;\n    opt = {\n      indent: '  '\n    };\n  }\n\n  opt = opt || {\n    indent: '  '\n  };\n  var options = {\n    spaces: opt.indent !== undefined ? opt.indent : '  '\n  };\n  var rootAttributes = {\n    xmlns: 'urn:oasis:names:tc:xliff:document:2.0',\n    version: '2.0',\n    srcLang: obj.sourceLanguage,\n    trgLang: obj.targetLanguage\n  };\n  var root = makeElement('xliff', rootAttributes, true);\n  Object.keys(obj.resources).forEach(function (nsName) {\n    var fileChildren = createUnitTags(obj.resources[nsName]);\n    var f = makeElement('file', {\n      id: nsName\n    }, fileChildren);\n    root.elements.push(f);\n  });\n  var xmlJs = {\n    elements: [root]\n  };\n  var xml = lib.js2xml(xmlJs, options);\n  if (cb) cb(null, xml);\n  return xml;\n};\n\nfunction createUnitTags(unitElements) {\n  return Object.keys(unitElements).map(function (key) {\n    if (unitElements[key].groupUnits) {\n      return createGroupUnitTag(key, unitElements[key]);\n    } else {\n      return createUnitTag(key, unitElements[key]);\n    }\n  });\n}\n\nfunction createGroupUnitTag(id, group) {\n  var additionalAttributes = group.additionalAttributes != null ? group.additionalAttributes : {};\n  var groupUnits = createUnitTags(group.groupUnits);\n  return makeElement('group', Object.assign({\n    id: escape(id)\n  }, additionalAttributes), groupUnits);\n}\n\nfunction createUnitTag(id, unit) {\n  var segment = makeElement('segment', null, true);\n  if (!unit.source && unit.target) unit.source = '';\n  if (unit.source) segment.elements.push(makeElement('source', null, makeValue(unit.source, ElementTypes2)));\n  if (unit.target !== undefined) segment.elements.push(makeElement('target', null, makeValue(unit.target, ElementTypes2)));\n  var subEle = [segment];\n\n  if ('note' in unit) {\n    var noteElms = [];\n    createNoteObjects(unit.note).forEach(function (noteObj) {\n      noteElms.push(makeElement('note', null, [noteObj]));\n    });\n    subEle.unshift(makeElement('notes', null, noteElms));\n  }\n\n  var additionalAttributes = unit.additionalAttributes != null ? unit.additionalAttributes : {};\n  return makeElement('unit', Object.assign({\n    id: escape(id)\n  }, additionalAttributes), subEle);\n}\n\nfunction createNoteObjects(note) {\n  var arrNote = [];\n  var baseNote = makeText(note);\n\n  if (Array.isArray(baseNote.text)) {\n    baseNote.text.forEach(function (text) {\n      arrNote.push({\n        type: baseNote.type,\n        text: text\n      });\n    });\n  } else {\n    arrNote.push(baseNote);\n  }\n\n  return arrNote;\n}\n\nvar js2xliff = function js2xliff(obj, opt, cb) {\n  if (!cb && opt === undefined) {\n    return new Promise(function (resolve, reject) {\n      return js2xliffClb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof opt !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return js2xliffClb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return js2xliffClb(obj, opt, cb);\n};\n\njs2xliff.js2xliffClb = js2xliffClb;\n\nvar jsToXliff12Clb = function jsToXliff12Clb(obj, opt, cb) {\n  if (!cb && typeof opt === 'function') {\n    cb = opt;\n    opt = {\n      indent: '  '\n    };\n  }\n\n  opt = opt || {\n    indent: '  '\n  };\n  var options = {\n    spaces: opt.indent !== undefined ? opt.indent : '  ',\n    xmlLangAttr: !!opt.xmlLangAttr\n  };\n  var rootAttributes = {\n    'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n    'xsi:schemaLocation': 'urn:oasis:names:tc:xliff:document:1.2 http://docs.oasis-open.org/xliff/v1.2/os/xliff-core-1.2-strict.xsd',\n    xmlns: 'urn:oasis:names:tc:xliff:document:1.2',\n    version: '1.2'\n  };\n  var root = makeElement('xliff', rootAttributes, true);\n  Object.keys(obj.resources).forEach(function (nsName) {\n    var bodyChildren = createUnitTags$1(obj.resources[nsName], obj, options);\n    var b = makeElement('body', null, bodyChildren);\n    var fileAttributes = {\n      original: nsName,\n      datatype: 'plaintext',\n      'source-language': obj.sourceLanguage\n    };\n\n    if (obj.targetLanguage != null) {\n      fileAttributes['target-language'] = obj.targetLanguage;\n    }\n\n    var f = makeElement('file', fileAttributes, [b]);\n    root.elements.push(f);\n  });\n  var xmlJs = {\n    elements: [root]\n  };\n  var xml = lib.js2xml(xmlJs, options);\n  if (cb) cb(null, xml);\n  return xml;\n};\n\nfunction createUnitTags$1(unitElements, obj, options) {\n  return Object.keys(unitElements).map(function (key) {\n    if (unitElements[key].groupUnits) {\n      return createGroupUnitTag$1(key, unitElements[key], obj, options);\n    } else {\n      return createTransUnitTag$1(key, unitElements[key], obj, options);\n    }\n  });\n}\n\nfunction createGroupUnitTag$1(key, resource, obj, options) {\n  var additionalAttributes = resource.additionalAttributes != null ? resource.additionalAttributes : {};\n  var groupUnits = createUnitTags$1(resource.groupUnits, obj, options);\n  return makeElement('group', Object.assign({\n    id: escape(key)\n  }, additionalAttributes), groupUnits);\n}\n\nfunction createTransUnitTag$1(key, resource, obj, options) {\n  var additionalAttributes = resource.additionalAttributes != null ? resource.additionalAttributes : {};\n  var u = makeElement('trans-unit', Object.assign({\n    id: escape(key)\n  }, additionalAttributes), true);\n  var sourceAttributes = null;\n\n  if (options.xmlLangAttr) {\n    sourceAttributes = {\n      'xml:lang': obj.sourceLanguage\n    };\n  }\n\n  if (!resource.source && resource.target) resource.source = '';\n  if (resource.source) u.elements.push(makeElement('source', sourceAttributes, makeValue(resource.source, ElementTypes12)));\n\n  if (resource.target != null) {\n    var targetAttributes = null;\n\n    if (options.xmlLangAttr && obj.targetLanguage) {\n      targetAttributes = {\n        'xml:lang': obj.targetLanguage\n      };\n    }\n\n    u.elements.push(makeElement('target', targetAttributes, makeValue(resource.target, ElementTypes12)));\n  }\n\n  if ('note' in resource) {\n    createNoteObjects$1(resource.note).forEach(function (noteObj) {\n      u.elements.push(makeElement('note', null, [noteObj]));\n    });\n  }\n\n  return u;\n}\n\nfunction createNoteObjects$1(note) {\n  var arrNote = [];\n  var baseNote = makeText(note);\n\n  if (Array.isArray(baseNote.text)) {\n    baseNote.text.forEach(function (text) {\n      arrNote.push({\n        type: baseNote.type,\n        text: text\n      });\n    });\n  } else {\n    arrNote.push(baseNote);\n  }\n\n  return arrNote;\n}\n\nvar jsToXliff12 = function jsToXliff12(obj, opt, cb) {\n  if (!cb && opt === undefined) {\n    return new Promise(function (resolve, reject) {\n      return jsToXliff12Clb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof opt !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return jsToXliff12Clb(obj, opt, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return jsToXliff12Clb(obj, opt, cb);\n};\n\njsToXliff12.jsToXliff12Clb = jsToXliff12Clb;\n\nfunction ofjs(js, what, cb) {\n  var res = {};\n  var nsKeys = Object.keys(js.resources || {});\n\n  if (nsKeys.length === 1) {\n    var ns = js.resources[nsKeys[0]];\n    var keys = Object.keys(ns);\n    keys.forEach(function (key) {\n      var value = getSegment(ns[key], what);\n      if (value === undefined) return;\n      res[key] = value;\n    });\n    if (cb) return cb(null, res);\n    return res;\n  }\n\n  nsKeys.forEach(function (nsKey) {\n    res[nsKey] = {};\n    var ns = js.resources[nsKey];\n    var keys = Object.keys(ns);\n    keys.forEach(function (key) {\n      var value = getSegment(ns[key], what);\n      if (value !== undefined) res[nsKey][key] = value;\n    });\n  });\n  if (cb) return cb(null, res);\n  return res;\n}\n\nfunction getSegment(category, what) {\n  var value = category[what];\n\n  if (value === undefined && category.groupUnits) {\n    value = {};\n    var groupKeys = Object.keys(category.groupUnits);\n    groupKeys.forEach(function (groupKey) {\n      var groupValue = getSegment(category.groupUnits[groupKey], what);\n      if (groupValue !== undefined) value[groupKey] = groupValue;\n    });\n  }\n\n  return value;\n}\n\nfunction targetOfjs(js, cb) {\n  return ofjs(js, 'target', cb);\n}\n\nfunction sourceOfjs(js, cb) {\n  return ofjs(js, 'source', cb);\n}\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction setSegment(category, srcObj, trgObj, ntObj, key) {\n  var srcValue = srcObj[key];\n  var trgValue = trgObj[key];\n\n  if (_typeof(srcValue) === 'object' && _typeof(trgValue) === 'object') {\n    category[key] = {\n      groupUnits: {}\n    };\n    var grpObj = category[key].groupUnits;\n    Object.keys(srcValue).forEach(function (grpKey) {\n      setSegment(grpObj, srcObj[key], trgObj[key], ntObj[key], grpKey);\n\n      if (ntObj && ntObj[key] && ntObj[key][grpKey]) {\n        category[key].note = ntObj[key][grpKey];\n      }\n    });\n  } else {\n    category[key] = {\n      source: srcValue,\n      target: trgValue\n    };\n\n    if (ntObj && ntObj[key]) {\n      category[key].note = ntObj[key];\n    }\n  }\n}\n\nvar createjsClb = function createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb) {\n  var js = {\n    sourceLanguage: srcLng,\n    targetLanguage: trgLng,\n    resources: {}\n  };\n\n  if (!cb && (!ns || typeof ns !== 'string')) {\n    cb = ns;\n    ns = null;\n  }\n\n  trgKeys = trgKeys || {};\n  var keys = Object.keys(srcKeys);\n  Object.keys(trgKeys).forEach(function (k) {\n    if (keys.indexOf(k) < 0) keys.push(k);\n  });\n\n  if (ns && typeof ns === 'string') {\n    js.resources[ns] = {};\n    var nsObj = js.resources[ns];\n    keys.forEach(function (srcKey) {\n      setSegment(nsObj, srcKeys, trgKeys, ntKeys, srcKey);\n    });\n    if (cb) cb(null, js);\n    return js;\n  }\n\n  keys.forEach(function (ns) {\n    js.resources[ns] = {};\n    Object.keys(srcKeys[ns]).forEach(function (srcKey) {\n      setSegment(js.resources[ns], srcKeys[ns], trgKeys[ns], ntKeys && ntKeys[ns], srcKey);\n    });\n  });\n  if (cb) cb(null, js);\n  return js;\n};\n\nvar createjs = function createjs(srcLng, trgLng, srcKeys, trgKeys, ns, cb, ntKeys) {\n  if (!cb && ns === undefined) {\n    return new Promise(function (resolve, reject) {\n      return createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof ns !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return createjsClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb);\n};\n\ncreatejs.createjsClb = createjsClb;\n\nvar createjs$1 = createjs.createjsClb;\nvar js2xliff$1 = js2xliff.js2xliffClb;\n\nvar createxliffClb = function createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb) {\n  if (!ns || typeof ns !== 'string') {\n    cb = ns;\n    ns = null;\n  }\n\n  if (!cb) {\n    return js2xliff$1(createjs$1(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns));\n  }\n\n  createjs$1(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, res) {\n    if (err) return cb(err);\n    js2xliff$1(res, cb);\n  });\n};\n\nfunction createxliff(srcLng, trgLng, srcKeys, trgKeys, ns, cb, ntKeys) {\n  if (!cb && ns === undefined) {\n    return new Promise(function (resolve, reject) {\n      return createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof ns !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return createxliffClb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb);\n}\n\nvar createjs$2 = createjs.createjsClb;\nvar jsToXliff12$1 = jsToXliff12.jsToXliff12Clb;\n\nvar createxliff12Clb = function createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb) {\n  if (!ns || typeof ns !== 'string') {\n    cb = ns;\n    ns = null;\n  }\n\n  if (!cb) {\n    return jsToXliff12$1(createjs$2(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns));\n  }\n\n  createjs$2(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, res) {\n    if (err) return cb(err);\n    jsToXliff12$1(res, cb);\n  });\n};\n\nfunction createxliff12(srcLng, trgLng, srcKeys, trgKeys, ns, cb, ntKeys) {\n  if (!cb && ns === undefined) {\n    return new Promise(function (resolve, reject) {\n      return createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  if (!cb && typeof ns !== 'function') {\n    return new Promise(function (resolve, reject) {\n      return createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, function (err, ret) {\n        return err ? reject(err) : resolve(ret);\n      });\n    });\n  }\n\n  return createxliff12Clb(srcLng, trgLng, srcKeys, trgKeys, ntKeys, ns, cb);\n}\n\nvar index = {\n  xliff2js: xliffToJs,\n  xliff12ToJs: xliff12ToJs,\n  js2xliff: js2xliff,\n  jsToXliff12: jsToXliff12,\n  targetOfjs: targetOfjs,\n  sourceOfjs: sourceOfjs,\n  createjs: createjs,\n  createxliff: createxliff,\n  createxliff12: createxliff12\n};\n\nexport default index;\nexport { createjs, createxliff, createxliff12, js2xliff, jsToXliff12, sourceOfjs, targetOfjs, xliff12ToJs, xliffToJs as xliff2js };\n"],"names":["fn","module","options","currentElement","sax","exports","parser","strict","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","this","i","l","length","clearBuffers","q","c","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","error","noscript","state","S","BEGIN","strictEntities","ENTITIES","Object","create","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","position","line","column","emit","EVENTS","o","F","prototype","keys","a","hasOwnProperty","push","end","write","chunk","toString","charAt","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","substring","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","pad","Array","join","toUpperCase","emitNode","CDATA","cdata","COMMENT","comment","DOCTYPE","doctype","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","name","body","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","attributes","value","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","buffer","parseEntity","entity","entityBody","entityStart","Error","maxAllowed","Math","max","maxActual","len","closeText","m","checkBufferLength","resume","close","flush","stream","ex","streamWraps","filter","ev","apply","_parser","writable","readable","me","onend","onerror","er","_decoder","forEach","defineProperty","get","set","h","removeAllListeners","on","enumerable","configurable","constructor","data","Buffer","isBuffer","SD","string_decoder","handler","indexOf","args","arguments","splice","call","XML_NAMESPACE","XMLNS_NAMESPACE","xml","regex","test","s","STATE","COMMENT_STARTING","key","e","String","fromCharCode","event","nodeType","text","trim","normalize","replace","message","parent","qname","attribute","qualName","split","prefix","local","qn","selfClosing","uri","JSON","stringify","p","nv","isSelfClosing","toLowerCase","t","closeTo","pop","x","n","num","entityLC","numStr","slice","parseInt","isNaN","fromCodePoint","result","stringFromCharCode","floor","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","index","codePoint","Number","isFinite","RangeError","arrayHelper","isArray","optionsHelper","copy","item","spaces","alwaysArray","compact","isArray$1","nativeType","nValue","bValue","addField","type","instructionFn","temp","instructionNameFn","elementsKey","element","typeKey","nameKey","instructionHasAttributes","attributesKey","instructionKey","addParent","parentKey","manipulateAttributes","attributesFn","nativeTypeAttributes","attributeValueFn","attributeNameFn","onInstruction","instruction","match","attrsRegExp","exec","ignoreDeclaration","declarationKey","ignoreInstruction","onStartElement","elementNameFn","ignoreAttributes","alwaysChildren","onText","ignoreText","captureSpacesBetweenElements","sanitize","onComment","ignoreComment","onEndElement","parentElement","onCdata","ignoreCdata","onDoctype","ignoreDoctype","onError","note","xml2js","userOptions","validateOptions","onopentag","ontext","oncomment","onclosetag","oncdata","ondoctype","onprocessinginstruction","currentElement$1","currentElementName","isArray$2","writeIndentation","depth","firstLine","writeAttributes","attr","attrName","quote","undefined","noQuotesForNativeAttributes","indentAttributes","writeDeclaration","declaration","writeInstruction","instructionName","instructionValue","writeComment","commentFn","writeCdata","cdataFn","writeDoctype","doctypeFn","writeText","textFn","writeElements","elements","reduce","indent","elementName","withClosingTag","fullTagEmptyElementFn","fullTagEmptyElement","indentText","indentCdata","indentInstruction","hasContent","writeElement","commentKey","doctypeKey","cdataKey","textKey","hasContentCompact","anyContent","writeElementCompact","writeElementsCompact","nodes","_elementTypeToTagMap","_factories","js2xml","js","validateOptions$2","lib","ElementTypes","makeInlineElement","contents","obj","contentsObj","dataObj","assign","_defineProperty$1","ElementTypes2","elementTypeToTagMap","tagToElementTypeMap","ph","pc","sc","ec","factories","elementTypeToTag","types","extractValue","valueElements","elementTypeInfo","map","valueElement","substr","lastIndexOf","elementType","inlineElementFactory","_elementTypeToTagMap$1","_factories$1","xliffToJsClb","str","cb","err","xmlObj","xliffRoot","find","ele","srcLang","trgLang","sourceLanguage","targetLanguage","child","resources","file","namespace","id","initValues","target","createUnits","unit","additionalAttributes","segment","parse","createUnit","groupUnits","xliffToJs","Promise","resolve","reject","ret","_defineProperty$2","ElementTypes12","g","bx","bpt","ept","mrk","xliff12ToJsClb","original","bodyChildren","createUnits$1","childElements","transUnit","children","groupUnit","addAdditionalAttributes","createGroupTag","jsUnit","xliff12ToJs","makeElement","el","makeText","makeValue","content","elementTag","attrsSrc","attrs","attrKey","_attrsSrc","_contents","_attrs","segmentKey","escape","char","RegExp","js2xliffClb","root","version","nsName","f","createUnitTags","unitElements","group","createGroupUnitTag","source","subEle","noteElms","arrNote","baseNote","createNoteObjects","noteObj","unshift","createUnitTag","js2xliff","jsToXliff12Clb","xmlLangAttr","b","createUnitTags$1","fileAttributes","datatype","resource","createGroupUnitTag$1","u","sourceAttributes","targetAttributes","createNoteObjects$1","createTransUnitTag$1","jsToXliff12","ofjs","what","res","nsKeys","getSegment","nsKey","category","groupKey","groupValue","targetOfjs","sourceOfjs","_typeof","Symbol","iterator","setSegment","srcObj","trgObj","ntObj","srcValue","trgValue","grpObj","grpKey","createjsClb","srcLng","trgLng","srcKeys","trgKeys","ntKeys","k","nsObj","srcKey","createjs","createjs$1","js2xliff$1","createxliffClb","createxliff","createjs$2","jsToXliff12$1","createxliff12Clb","createxliff12","xliff2js"],"sourceRoot":""}